webpackJsonp([9],{1012:function(e,t,n){e.exports=n.p+"static/media/login_title.bdd32c50.png"},996:function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n.n(o),c=n(347),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=function(e){function t(e){s(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.back=function(){n.props.history.push("/login")},n.handleUser=function(e){n.setState({user:e.target.value})},n.handlePsd=function(e){n.setState({psd:e.target.value})},n.yzm=function(e){n.setState({yzm:e.target.value})},n.sendcode=function(){return n.state.user?/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(n.state.user)?void(n.state.yzming||window.$Funs.$AJAX("basis/user/"+n.state.user+"/phone/code","post",null,function(e){var t=setInterval(function(){n.setState(function(e){return{seconds:e.seconds-1,yzming:!0,dlgTipTxt:e.seconds-1+"s\u91cd\u65b0\u53d1\u9001"}},function(){0==n.state.seconds&&(clearInterval(t),n.setState({yzming:!1}))})},1e3)})):(c.o.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"),!1):(c.o.error("\u8bf7\u8f93\u5165\u624b\u673a\u53f7"),!1)},n.repass=function(e){if(!n.state.yzm||!n.state.psd)return c.o.error("\u8bf7\u8f93\u5165\u5b8c\u6574"),!1;window.$Funs.$AJAX("basis/user/"+n.state.user+"/phone/code/"+n.state.yzm+"/check","get",null,function(e){e&&window.$Funs.$AJAX("auth/user/"+n.state.user+"/pwd","patch",{code:n.state.yzm,newPwd:n.state.psd},function(e){c.o.success("\u4fee\u6539\u6210\u529f"),setInterval(function(e){n.props.history.push("/login")},1e3)})})},n.state={user:"",psd:"",yzm:"",seconds:59,dlgTipTxt:"\u53d1\u9001\u9a8c\u8bc1\u7801",yzming:!1},n}return r(t,e),l(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"login"},i.a.createElement("div",{className:"repass"},i.a.createElement("div",{className:"title"},i.a.createElement("img",{src:n(1012)})),i.a.createElement("div",{className:"inner "},i.a.createElement("div",{className:"item"},i.a.createElement(c.g,{placeholder:"\u7528\u6237\u540d",value:this.state.user,onChange:this.handleUser,style:{width:300,height:50}})),i.a.createElement("div",{className:"item"},i.a.createElement(c.g,{placeholder:"\u9a8c\u8bc1\u7801",value:this.state.yzm,onChange:this.yzm,style:{width:160,height:50}}),i.a.createElement(c.b,{style:{width:120,height:50,marinTop:0},onClick:this.sendcode},this.state.dlgTipTxt)),i.a.createElement("div",{className:"item"},i.a.createElement(c.g,{placeholder:"\u65b0\u5bc6\u7801",type:"password",value:this.state.psd,onChange:this.handlePsd,style:{width:300,height:50}}))),i.a.createElement(c.b,{type:"primary",onClick:this.repass},"\u786e\u8ba4\u4fee\u6539"),i.a.createElement("a",{onClick:this.back,className:"back"},"\u8fd4\u56de")))}}]),t}(o.Component);t.default=u}});
//# sourceMappingURL=9.661f3a8d.chunk.js.map