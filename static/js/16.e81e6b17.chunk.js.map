{"version":3,"sources":["../../static/js/16.e81e6b17.chunk.js","pages/information/stop.jsx"],"names":["webpackJsonp","987","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_2_antd__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","FormItem","Item","TextArea","Search","Option","confirm","TopForm","_Component","this","_this","getPrototypeOf","handleSearch","form","validateFields","err","values","arr","keys","data","getSearch","clear","resetFields","init","_props$form","getFieldDecorator","a","createElement","className","label","onClick","type","SearchForm","mapPropsToFields","createFormField","TMsgDetail","_Component2","_this2","handleSubmit","title","content","okText","cancelText","onOk","newCarId","detail","vehicleId","oldVehicleId","teamName","inputMan","window","$Funs","cook","get","$AJAX","res","cancel","success","onCancel","state","msgform","layout","disabled","rules","required","message","rows","MsgDetail","Stop","_Component3","_this3","arguments","undefined","setState","loading","currPage","pageSize","map","v","stop","stopTime","formatDate","total","count","keyWord","pageChange","page","handleOk","id","stopId","edit","item","showDiglog","bind","_this4","columns","width","dataIndex","align","render","spinning","size","dataSource","pagination","defaultPageSize","onChange","current","scroll","y"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YAM8f,SAASC,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GALhyCE,OAAOS,eAAevB,EAAqB,cAAgBiB,OAAO,GAC7C,IAAIO,GAAsCvB,EAAoB,GAC1DwB,EAA8CxB,EAAoByB,EAAEF,GAEpEG,GADiD1B,EAAoB,KAChCA,EAAoB,MAC9E2B,EAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWhB,WAAWgB,EAAWhB,aAAY,EAAMgB,EAAWd,cAAa,EAAQ,SAAUc,KAAWA,EAAWf,UAAS,GAAKL,OAAOS,eAAeO,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS9B,EAAYgC,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBzB,EAAYS,UAAUuB,GAAeC,GAAYR,EAAiBzB,EAAYiC,GAAoBjC,MCRtekC,EAAWX,EAAA,EAAKY,KAGdC,GAFOb,EAAA,EAAMc,OACNd,EAAA,EAAOe,OACDf,EAAA,EAAba,UACFG,EAAUhB,EAAA,EAAMgB,QAGhBC,EDEM,SAASC,GCDjB,QAAAD,GAAYb,GAAO7B,EAAA4C,KAAAF,EAAA,IAAAG,GAAAzC,EAAAwC,MAAAF,EAAAtB,WAAAR,OAAAkC,eAAAJ,IAAApC,KAAAsC,KACXf,GADW,OAAAgB,GAGnBE,aAAc,WACZF,EAAKhB,MAAMmB,KAAKC,eAAe,SAACC,EAAKC,GAGjC,IAAI,GAFAC,GAAMxC,OAAOyC,KAAKF,GAClBG,KACIxB,EAAI,EAAEA,EAAEsB,EAAIrB,OAAOD,IACxBqB,EAAOC,EAAItB,MAASwB,EAAKF,EAAItB,IAAMqB,EAAOC,EAAItB,IAE9CwB,IAEDT,EAAKhB,MAAM0B,UAAUD,MAZVT,EAkBnBW,MAAQ,WACNX,EAAKhB,MAAMmB,KAAKS,cAChBZ,EAAKhB,MAAM6B,UApBMb,EDIwjD,MAH9iDrC,GAAUkC,EAAQC,GAG8CjB,EAAagB,IAAUT,IAAI,SAASlB,MAAM,WCkB/H,GAAA4C,GACqCf,KAAKf,MAAMmB,KAA9CY,EADFD,EACEC,iBADFD,GACqBF,WAE3B,OACElC,GAAAsC,EAAAC,cAACrC,EAAA,GAAKsC,UAAY,iBACZxC,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,MACfxC,EAAAsC,EAAAC,cAAC1B,GAAS4B,MAAQ,iCAAQD,UAAY,YACnCH,EAAkB,aACjBrC,EAAAsC,EAAAC,cAACrC,EAAA,EAAD,SAINF,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,MACfxC,EAAAsC,EAAAC,cAAC1B,GAAS4B,MAAQ,iCAAQD,UAAY,YACnCH,EAAkB,YACjBrC,EAAAsC,EAAAC,cAACrC,EAAA,EAAD,SAINF,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,MACfxC,EAAAsC,EAAAC,cAAA,KAAGC,UAAY,QAAQE,QAAWrB,KAAKY,OAAvC,iBAEFjC,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,MACfxC,EAAAsC,EAAAC,cAACrC,EAAA,GAAOyC,KAAK,UAAUD,QAASrB,KAAKG,cAArC,sBDzCskDL,GCLhkDpB,EAAA,WAqDd6C,EAAa1C,EAAA,EAAKZ,QACtBuD,iBAD6B,SACZvC,GACf,OACE6B,KAAMjC,EAAA,EAAK4C,iBACTtD,MAAOc,EAAM6B,OAEfH,UAAW9B,EAAA,EAAK4C,iBACdtD,MAAOc,EAAM0B,gBAIlBb,GAEG4B,ED7D4+D,SAASC,GC8Dz/D,QAAAD,GAAYzC,GAAO7B,EAAA4C,KAAA0B,EAAA,IAAAE,GAAApE,EAAAwC,MAAA0B,EAAAlD,WAAAR,OAAAkC,eAAAwB,IAAAhE,KAAAsC,KACXf,GADW,OAAA2C,GAMnBC,aAAe,WACbD,EAAK3C,MAAMmB,KAAKC,eAAe,SAACC,EAAKC,GAC/BD,GACFT,GACEiC,MAAO,eACPC,QAAS,yDACTC,OAAO,eACPC,WAAW,eACXC,KAAK,WACH3B,EAAO4B,SAAWP,EAAK3C,MAAMmD,OAAOD,SACpC5B,EAAO8B,UAAYT,EAAK3C,MAAMmD,OAAOC,UACrC9B,EAAO+B,aAAeV,EAAK3C,MAAMmD,OAAOE,aACxC/B,EAAOgC,SAAWX,EAAK3C,MAAMmD,OAAOG,SACpChC,EAAOiC,SAAWC,OAAOC,MAAMC,KAAKC,IAAI,MACxCH,OAAOC,MAAMG,MAAM,OAAO,OAAOtC,EAAO,SAACuC,GACvClB,EAAK3C,MAAM8D,SACXlE,EAAA,EAAQmE,QAAQ,4BAChBpB,EAAK3C,MAAM6B,UAGfmC,SAjBM,kBAPZrB,EAAKsB,OACHxC,SAHekB,ED9D4/K,MAAzgHhE,GAAU8D,EAAWC,GAAy1B7C,EAAa4C,IAAarC,IAAI,SAASlB,MAAM,WC8Fz5F,GACE6C,GAAqBhB,KAAKf,MAAMmB,KAAhCY,kBAWJmC,EACFxE,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,UACfxC,EAAAsC,EAAAC,cAACrC,EAAA,GAAKuE,OAAO,SAAUjC,UAAU,SAC/BxC,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,SACfxC,EAAAsC,EAAAC,cAAC1B,GAAS4B,MAAM,qBAAMD,UAAY,kBAChCxC,EAAAsC,EAAAC,cAACrC,EAAA,GAAOV,MAAO6B,KAAKf,MAAMmD,OAAOC,UAAYgB,UAAA,EAASlC,UAAY,cAEpExC,EAAAsC,EAAAC,cAAC1B,GAAS4B,MAAM,uCAASD,UAAY,kBACnCxC,EAAAsC,EAAAC,cAACrC,EAAA,GAAOV,MAAO6B,KAAKf,MAAMmD,OAAOG,SAAWc,UAAA,EAASlC,UAAY,cAEnExC,EAAAsC,EAAAC,cAAC1B,GAAS4B,MAAM,2BAAOD,UAAY,kBACjCxC,EAAAsC,EAAAC,cAACrC,EAAA,GAAOV,MAAO6B,KAAKf,MAAMmD,OAAOE,aAAee,UAAA,EAASlC,UAAY,eAGzExC,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,SACbxC,EAAAsC,EAAAC,cAAC1B,GAAS4B,MAAQ,iCAAQD,UAAY,qBACrCH,EAAkB,cACfsC,QACAC,UAAU,EAAMC,QAAS,iDAGzB7E,EAAAsC,EAAAC,cAACxB,GAAS+D,KAAM,QAM1B9E,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,cACfxC,EAAAsC,EAAAC,cAACrC,EAAA,GAAOyC,KAAK,UAAUD,QAAWrB,KAAK6B,cAAvC,4BACAlD,EAAAsC,EAAAC,cAACrC,EAAA,GAAOwC,QAAYrB,KAAKf,MAAM8D,QAA/B,iBAIN,OACEpE,GAAAsC,EAAAC,cAAA,OAAKC,UAAY,UACfxC,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,SACjBxC,EAAAsC,EAAAC,cAAA,OAAKC,UAAY,QACfxC,EAAAsC,EAAAC,cAAA,KAAGC,UAAY,SAAf,4BACIgC,QDhJ0gLzB,GC6D//KhD,EAAA,WAyFnBgF,EAAY7E,EAAA,EAAKZ,QACrBuD,iBAD4B,SACXvC,GACf,OACEmD,OAAQvD,EAAA,EAAK4C,iBACXtD,MAAOc,EAAMmD,SAEfW,OAAQlE,EAAA,EAAK4C,iBACXtD,MAAOc,EAAM8D,SAEfjC,KAAMjC,EAAA,EAAK4C,iBACTtD,MAAOc,EAAM6B,WAIlBY,GAKkBiC,EDzK0/L,SAASC,GC0KthM,QAAAD,GAAY1E,GAAO7B,EAAA4C,KAAA2D,EAAA,IAAAE,GAAArG,EAAAwC,MAAA2D,EAAAnF,WAAAR,OAAAkC,eAAAyD,IAAAjG,KAAAsC,KACTf,GADS,OAAA4E,GAejB/C,KAAK,WAAa,GAAZJ,GAAYoD,UAAA3E,OAAA,OAAA4E,KAAAD,UAAA,GAAAA,UAAA,KAChBD,GAAKG,UACHC,SAAQ,GACR,YACCvD,EAAKwD,WAAaxD,EAAKwD,SAAWL,EAAKX,MAAMgB,UAC9CxD,EAAKyD,SAAWN,EAAKX,MAAMiB,SAC3B1B,OAAOC,MAAMG,MAAM,UAAU,MAAMnC,EAAK,SAACoC,GACvC,GAAIpC,GAAOoC,EAAIpC,KAAK0D,IAAI,SAACC,EAAEnF,GAIzB,MAHU,IAAVmF,EAAEC,KAAYD,EAAEC,KAAO,SAAKD,EAAEC,KAAO,SACrCD,EAAEE,SAAW9B,OAAOC,MAAM8B,WAAWH,EAAEE,UACvCF,EAAEhF,IAAMH,EACDmF,GAETR,GAAKG,UACHtD,KAAOA,EACP+D,MAAO3B,EAAI4B,MACXT,SAAQ,SA/BCJ,EAqCjBlD,UAAU,SAACD,GACNA,GACDmD,EAAKG,UACHW,QAAQjE,EACRwD,SAAS,GACT,WACAL,EAAK/C,KAAKJ,MA3CCmD,EA+CjBe,WAAa,SAACC,GACZhB,EAAKG,UACHE,SAASW,GACT,WACA,GAAInE,GAAOmD,EAAKX,MAAMyB,OACtBd,GAAK/C,KAAKJ,MApDGmD,EAuDjBiB,SAAW,SAACC,GACRtC,OAAOC,MAAMG,MAAMkC,EAAG,eAAe,SAASC,OAAOD,GAAI,SAACjC,GACxDjE,EAAA,EAAQmE,QAAQ,4BAChBa,EAAK/C,UA1DM+C,EA8DjBoB,KAAO,SAACC,EAAKhG,GACD,GAALA,EACC2E,EAAKG,UACHmB,YAAY,EACZ/C,OAAO8C,IAGXrG,EAAA,EAAMgB,SACFiC,MAAO,qBACPC,QAAS,+DACTC,OAAQ,eACRE,KAAK2B,EAAKiB,SAASM,KAAdvB,EAAwBqB,EAAKF,QAClC/C,WAAY,kBA1EL4B,EA8EjBd,OAAQ,WACNc,EAAKG,UACHmB,YAAW,KA9EbtB,EAAKX,OACDe,SAAQ,EACRkB,YAAW,EACXjB,SAAS,EACTC,SAAS,GACTQ,WACAjE,QACA+D,MAAM,IATKZ,EDrKu5D,MALynIjG,GAAU+F,EAAKC,GAKriM9E,EAAa6E,IAAOtE,IAAI,qBAAqBlB,MAAM,WCkL5D6B,KAAKc,YDlLuGzB,IAAI,SAASlB,MAAM,WCwP1H,GAAAkH,GAAArF,KACCsF,IACAxD,MAAO,2BAAQyD,MAAO,IAAKC,UAAW,WAAWnG,IAAI,WAAWoG,MAAO,WACvE3D,MAAO,qBAAOyD,MAAO,IAAKC,UAAW,YAAYnG,IAAI,YAAaoG,MAAO,WACzE3D,MAAO,uCAAU0D,UAAW,eAAgBD,MAAO,IAAMlG,IAAI,eAAeoG,MAAO,WACnF3D,MAAO,2BAAQ0D,UAAW,eAAenG,IAAI,eAAgBkG,MAAO,IAAKE,MAAO,WAChF3D,MAAO,2BAAQ0D,UAAW,OAAOnG,IAAI,OAAQkG,MAAO,IAAKE,MAAO,WAChE3D,MAAO,2BAAQ0D,UAAW,aAAanG,IAAI,aAAckG,MAAO,IAAKE,MAAO,WAC5E3D,MAAO,eAAM0D,UAAW,GAAInG,IAAK,SAAUkG,MAAO,IAAKE,MAAO,SAAWC,OAAQ,SAACR,GAAS,MAAgB,UAAbA,EAAKZ,KAAqB3F,EAAAsC,EAAAC,cAACrC,EAAA,GAAOyC,KAAK,SAASD,QAAW,WAAKgE,EAAKJ,KAAKC,EAAK,KAArD,gBAAoFvG,EAAAsC,EAAAC,cAACrC,EAAA,GAAOwC,QAAW,WAAKgE,EAAKJ,KAAKC,EAAK,KAAvC,kBAGlN,OACIvG,GAAAsC,EAAAC,cAAA,OAAKC,UAAY,QACfxC,EAAAsC,EAAAC,cAACrC,EAAA,GAAK8G,SAAY3F,KAAKkD,MAAMe,QAAS2B,KAAK,SACzCjH,EAAAsC,EAAAC,cAACK,GAAWT,KAAMd,KAAKc,KAAMH,UAAaX,KAAKW,YAC/ChC,EAAAsC,EAAAC,cAACrC,EAAA,GAAMyG,QAASA,EAASO,WAAY7F,KAAKkD,MAAMxC,KAAOoF,YAAgBC,gBAAgB,GAAGtB,MAAMzE,KAAKkD,MAAMuB,MAAMuB,SAAShG,KAAK4E,WAAWqB,QAAQjG,KAAKkD,MAAMgB,UAAYgC,QAAUC,EAAE,OACpLnG,KAAKkD,MAAMiC,YAAcxG,EAAAsC,EAAAC,cAACwC,GAAUtB,OAAUpC,KAAKkD,MAAMd,OAAQW,OAAU/C,KAAK+C,OAAQjC,KAAOd,KAAKc,aDxQg0D6C,GCoKj5DjF,EAAA,UDpKu+DxB,GAA6B,QAAI","file":"../static/js/16.e81e6b17.chunk.js","sourcesContent":["webpackJsonp([16],{\n\n/***/ 987:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(348);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(347);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].Item;var Search=__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */].Search;var Option=__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Select */].Option;var TextArea=__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */].TextArea;var confirm=__WEBPACK_IMPORTED_MODULE_2_antd__[\"i\" /* Modal */].confirm;// import { renderRoutes } from 'react-router-config'\nvar TopForm=function(_Component){_inherits(TopForm,_Component);function TopForm(props){_classCallCheck(this,TopForm);var _this=_possibleConstructorReturn(this,(TopForm.__proto__||Object.getPrototypeOf(TopForm)).call(this,props));_this.handleSearch=function(){_this.props.form.validateFields(function(err,values){var arr=Object.keys(values);var data={};for(var i=0;i<arr.length;i++){values[arr[i]]&&(data[arr[i]]=values[arr[i]]);}if(data){//默认查找第一页开始\n_this.props.getSearch(data);// data.currPage = 1;\n// this.props.init(data)\n}});};_this.clear=function(){_this.props.form.resetFields();_this.props.init({});};return _this;}_createClass(TopForm,[{key:'render',value:function render(){var _props$form=this.props.form,getFieldDecorator=_props$form.getFieldDecorator,resetFields=_props$form.resetFields;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */],{className:'topForm clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8F66\\u724C\\u53F7\\u7801\\uFF1A',className:'formItem'},getFieldDecorator('vehicleId')(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u516C\\u53F8\\u8F66\\u961F\\uFF1A',className:'formItem'},getFieldDecorator('teamName')(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('a',{className:'empty',onClick:this.clear},'\\u6E05\\u7A7A')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fr'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{type:'primary',onClick:this.handleSearch},'\\u67E5\\u627E')));}}]);return TopForm;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var SearchForm=__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].create({mapPropsToFields:function mapPropsToFields(props){return{init:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.init}),getSearch:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.getSearch})};}})(TopForm);var TMsgDetail=function(_Component2){_inherits(TMsgDetail,_Component2);function TMsgDetail(props){_classCallCheck(this,TMsgDetail);var _this2=_possibleConstructorReturn(this,(TMsgDetail.__proto__||Object.getPrototypeOf(TMsgDetail)).call(this,props));_this2.handleSubmit=function(){_this2.props.form.validateFields(function(err,values){if(!err){confirm({title:'提示',content:'确认提交报停信息？',okText:'确认',cancelText:'取消',onOk:function onOk(){values.newCarId=_this2.props.detail.newCarId;values.vehicleId=_this2.props.detail.vehicleId;values.oldVehicleId=_this2.props.detail.oldVehicleId;values.teamName=_this2.props.detail.teamName;values.inputMan=window.$Funs.cook.get('id');window.$Funs.$AJAX('stop','post',values,function(res){_this2.props.cancel();__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* message */].success('操作成功');_this2.props.init();});},onCancel:function onCancel(){}});}});};_this2.state={data:[]};return _this2;}_createClass(TMsgDetail,[{key:'render',value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;var formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};var msgform=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'detail'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */],{layout:'inline',className:'clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8F66\\u724C\\u53F7',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.vehicleId,disabled:true,className:'disabled'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u516C\\u53F8\\u6216\\u8F66\\u961F\\u540D',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.teamName,disabled:true,className:'disabled'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u65E7\\u8F66\\u724C\\u53F7',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.oldVehicleId,disabled:true,className:'disabled'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u62A5\\u505C\\u7406\\u7531\\uFF1A',className:'formItem fl clean'},getFieldDecorator('stopReason',{rules:[{required:true,message:'请输入报停理由'}]})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TextArea,{rows:3}))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'diaBtns fr'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{type:'primary',onClick:this.handleSubmit},'\\u786E\\u8BA4\\u62A5\\u505C'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{onClick:this.props.cancel},'\\u53D6\\u6D88')));return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'dialog'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'mask'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'main'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:'title'},'\\u8F66\\u8F86\\u62A5\\u505C'),msgform));}}]);return TMsgDetail;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var MsgDetail=__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].create({mapPropsToFields:function mapPropsToFields(props){return{detail:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.detail}),cancel:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.cancel}),init:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.init})};}})(TMsgDetail);var Stop=function(_Component3){_inherits(Stop,_Component3);function Stop(props){_classCallCheck(this,Stop);var _this3=_possibleConstructorReturn(this,(Stop.__proto__||Object.getPrototypeOf(Stop)).call(this,props));_this3.init=function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_this3.setState({loading:true},function(){!data.currPage&&(data.currPage=_this3.state.currPage);data.pageSize=_this3.state.pageSize;window.$Funs.$AJAX('getStop','get',data,function(res){var data=res.data.map(function(v,i){v.stop==0?v.stop='否':v.stop='是';v.stopTime=window.$Funs.formatDate(v.stopTime);v.key=i;return v;});_this3.setState({data:data,total:res.count,loading:false});});});};_this3.getSearch=function(data){if(data){_this3.setState({keyWord:data,currPage:1},function(){_this3.init(data);});}};_this3.pageChange=function(page){_this3.setState({currPage:page},function(){var data=_this3.state.keyWord;_this3.init(data);});};_this3.handleOk=function(id){window.$Funs.$AJAX(id+'/stopRestore','patch',{stopId:id},function(res){__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* message */].success('操作成功');_this3.init();});};_this3.edit=function(item,i){if(i==0){//报停\n_this3.setState({showDiglog:true,detail:item});}else{//恢复报停\n__WEBPACK_IMPORTED_MODULE_2_antd__[\"i\" /* Modal */].confirm({title:'提示框',content:'确认对该车辆恢复报停',okText:'确认',onOk:_this3.handleOk.bind(_this3,item.stopId),cancelText:'取消'});}};_this3.cancel=function(){_this3.setState({showDiglog:false});};_this3.state={loading:true,showDiglog:false,currPage:1,pageSize:13,keyWord:{},//搜索关键字\ndata:[],//table数据\ntotal:''//总页数\n};return _this3;}_createClass(Stop,[{key:'componentWillMount',value:function componentWillMount(){this.init({});}},{key:'render',value:function render(){var _this4=this;var columns=[{title:'公司车队',width:100,dataIndex:'teamName',key:'teamName',align:'center'},{title:'车牌号',width:100,dataIndex:'vehicleId',key:'vehicleId',align:'center'},{title:'曾使用车牌号',dataIndex:'oldVehicleId',width:150,key:'oldVehicleId',align:'center'},{title:'终端类型',dataIndex:'terminalType',key:'terminalType',width:150,align:'center'},{title:'是否报停',dataIndex:'stop',key:'stop',width:100,align:'center'},{title:'报停理由',dataIndex:'stopReason',key:'stopReason',width:250,align:'center'},{title:'操作',dataIndex:'',key:'action',width:100,align:'center',render:function render(item){if(item.stop=='否'){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{type:'danger',onClick:function onClick(){_this4.edit(item,0);}},'\\u62A5\\u505C');}else{return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{onClick:function onClick(){_this4.edit(item,1);}},'\\u6062\\u590D');}}}];return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'stop'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"l\" /* Spin */],{spinning:this.state.loading,size:'large'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(SearchForm,{init:this.init,getSearch:this.getSearch}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"m\" /* Table */],{columns:columns,dataSource:this.state.data,pagination:{defaultPageSize:13,total:this.state.total,onChange:this.pageChange,current:this.state.currPage},scroll:{y:400}}),this.state.showDiglog&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(MsgDetail,{detail:this.state.detail,cancel:this.cancel,init:this.init})));}}]);return Stop;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Stop);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// ../static/js/16.e81e6b17.chunk.js","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Table , Input , Button , Form , Select,message,Modal,Spin} from 'antd';\r\nconst FormItem = Form.Item;\r\nconst Search = Input.Search;\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\nconst confirm = Modal.confirm;\r\n// import { renderRoutes } from 'react-router-config'\r\n\r\nclass TopForm extends Component {\r\n    constructor(props) {\r\n      super(props)\r\n    }\r\n    handleSearch =()=>{\r\n      this.props.form.validateFields((err, values) => {\r\n          let arr = Object.keys(values);\r\n          let data = {}\r\n          for(let i = 0;i<arr.length;i++){\r\n            (values[arr[i]]) && (data[arr[i]] = values[arr[i]])\r\n          }\r\n          if(data){\r\n            //默认查找第一页开始\r\n            this.props.getSearch(data);\r\n            // data.currPage = 1;\r\n            // this.props.init(data)\r\n          }\r\n      });\r\n    }\r\n    clear = ()=>{\r\n      this.props.form.resetFields();\r\n      this.props.init({})\r\n    }\r\n    render(){\r\n      const { getFieldDecorator, resetFields } = this.props.form;\r\n  \r\n      return (\r\n        <Form className = 'topForm clean'>\r\n              <div className = 'fl'>\r\n                <FormItem label = '车牌号码：' className = 'formItem'>\r\n                  {getFieldDecorator('vehicleId')(\r\n                    <Input />\r\n                  )}\r\n                </FormItem>\r\n              </div>\r\n              <div className = 'fl'>\r\n                <FormItem label = '公司车队：' className = 'formItem'>\r\n                  {getFieldDecorator('teamName')(\r\n                    <Input />\r\n                  )}\r\n                </FormItem>\r\n              </div>\r\n              <div className = 'fl'>\r\n                <a className = 'empty' onClick = {this.clear} >清空</a>\r\n              </div>\r\n              <div className = 'fr'>\r\n                <Button type=\"primary\" onClick={this.handleSearch}>查找</Button>\r\n              </div>\r\n            </Form>\r\n      )\r\n    }\r\n    \r\n  }\r\n  const SearchForm = Form.create({\r\n    mapPropsToFields(props) {\r\n      return {\r\n        init: Form.createFormField({\r\n          value: props.init,\r\n        }),\r\n        getSearch: Form.createFormField({\r\n          value: props.getSearch,\r\n        }),\r\n      }\r\n    },\r\n  })(TopForm)\r\n\r\n  class TMsgDetail extends Component{\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        data:[]\r\n      }\r\n    }\r\n    handleSubmit = ()=>{\r\n      this.props.form.validateFields((err, values) => {\r\n        if(!err){\r\n          confirm({\r\n            title: '提示',\r\n            content: '确认提交报停信息？',\r\n            okText:'确认',\r\n            cancelText:'取消',\r\n            onOk:()=> {\r\n              values.newCarId = this.props.detail.newCarId;\r\n              values.vehicleId = this.props.detail.vehicleId;\r\n              values.oldVehicleId = this.props.detail.oldVehicleId;\r\n              values.teamName = this.props.detail.teamName;\r\n              values.inputMan = window.$Funs.cook.get('id');\r\n              window.$Funs.$AJAX('stop','post',values,(res)=>{\r\n                this.props.cancel()\r\n                message.success('操作成功');\r\n                this.props.init();\r\n              })\r\n            },\r\n            onCancel() {\r\n            },\r\n          });\r\n        }\r\n      });\r\n    }\r\n    render(){\r\n      const { getFieldDecorator} = this.props.form;\r\n      const formItemLayout = {\r\n        labelCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 8 },\r\n        },\r\n        wrapperCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 16 },\r\n        },\r\n      };\r\n      let msgform = (\r\n        <div className = 'detail'>\r\n          <Form layout=\"inline\"  className='clean'>\r\n            <div className = 'clean'>\r\n              <FormItem label='车牌号' className = 'formItem clean'>\r\n                <Input  value={this.props.detail.vehicleId } disabled className = 'disabled'/>\r\n              </FormItem>\r\n              <FormItem label='公司或车队名' className = 'formItem clean'>\r\n                <Input  value={this.props.detail.teamName } disabled className = 'disabled'/>\r\n              </FormItem>\r\n              <FormItem label='旧车牌号' className = 'formItem clean'>\r\n                <Input  value={this.props.detail.oldVehicleId } disabled className = 'disabled'/>\r\n              </FormItem>\r\n            </div>\r\n            <div className = 'clean'>\r\n                <FormItem label = '报停理由：' className = 'formItem fl clean'>\r\n                {getFieldDecorator('stopReason', {\r\n                    rules: [ {\r\n                    required: true, message: '请输入报停理由',\r\n                    }],\r\n                })(\r\n                    <TextArea rows={3} />\r\n                )}\r\n                </FormItem>\r\n             \r\n            </div>\r\n          </Form>\r\n          <div className = 'diaBtns fr'>\r\n            <Button type=\"primary\" onClick = {this.handleSubmit}>确认报停</Button>\r\n            <Button onClick = { this.props.cancel}>取消</Button>\r\n          </div>\r\n        </div>\r\n      )\r\n      return(\r\n        <div className = 'dialog'>\r\n          <div className = 'mask'></div>\r\n          <div className = 'main'>\r\n            <p className = 'title'>车辆报停</p>\r\n             {  msgform }\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  const MsgDetail = Form.create({\r\n    mapPropsToFields(props) {\r\n      return {\r\n        detail: Form.createFormField({\r\n          value: props.detail,\r\n        }),\r\n        cancel: Form.createFormField({\r\n          value: props.cancel,\r\n        }),\r\n        init: Form.createFormField({\r\n          value: props.init,\r\n        }),\r\n      }\r\n    },\r\n  })(TMsgDetail)\r\n  \r\n  \r\n\r\n\r\n  export default class Stop extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state={\r\n            loading:true,\r\n            showDiglog:false,\r\n            currPage:1,\r\n            pageSize:13,\r\n            keyWord:{},//搜索关键字\r\n            data:[],//table数据\r\n            total:'',//总页数\r\n        }\r\n    }\r\n    componentWillMount(){\r\n        this.init({})\r\n      }\r\n      init=(data = {})=>{\r\n        this.setState({\r\n          loading:true\r\n        },()=>{\r\n          !data.currPage && (data.currPage = this.state.currPage);\r\n          data.pageSize = this.state.pageSize;\r\n          window.$Funs.$AJAX('getStop','get',data,(res)=>{\r\n            let data = res.data.map((v,i)=>{\r\n              v.stop == 0 ? v.stop = '否' :v.stop = '是';\r\n              v.stopTime = window.$Funs.formatDate(v.stopTime);\r\n              v.key = i;\r\n              return v\r\n            })\r\n            this.setState({\r\n              data : data,\r\n              total: res.count,\r\n              loading:false\r\n            })\r\n          })\r\n        })\r\n        \r\n      }\r\n      getSearch=(data)=>{\r\n        if(data){\r\n          this.setState({\r\n            keyWord:data,\r\n            currPage:1\r\n          },()=>{\r\n            this.init(data)\r\n          })\r\n        }\r\n      }\r\n      pageChange = (page)=>{\r\n        this.setState({\r\n          currPage:page,\r\n        },()=>{\r\n          let data = this.state.keyWord;\r\n          this.init(data)\r\n        })\r\n      }\r\n      handleOk = (id)=>{\r\n          window.$Funs.$AJAX(id+'/stopRestore','patch',{stopId:id},(res)=>{\r\n            message.success('操作成功');\r\n            this.init();\r\n        })\r\n        \r\n      }\r\n      edit = (item,i)=>{\r\n          if(i == 0){//报停\r\n              this.setState({\r\n                showDiglog: true,\r\n                detail:item\r\n              })\r\n          }else{//恢复报停\r\n            Modal.confirm({\r\n                title: '提示框',\r\n                content: '确认对该车辆恢复报停',\r\n                okText: '确认',\r\n                onOk:this.handleOk.bind(this,item.stopId),\r\n                cancelText: '取消',\r\n              });\r\n          }\r\n      }\r\n      cancel =()=>{\r\n        this.setState({\r\n          showDiglog:false\r\n        })\r\n      }\r\n    render() {\r\n        const columns = [\r\n            { title: '公司车队', width: 100, dataIndex: 'teamName',key:'teamName',align: 'center' },\r\n            { title: '车牌号', width: 100, dataIndex: 'vehicleId',key:'vehicleId' ,align: 'center' },\r\n            { title: '曾使用车牌号', dataIndex: 'oldVehicleId', width: 150 , key:'oldVehicleId',align: 'center' },\r\n            { title: '终端类型', dataIndex: 'terminalType',key:'terminalType', width: 150 ,align: 'center' },\r\n            { title: '是否报停', dataIndex: 'stop',key:'stop', width: 100 ,align: 'center' },\r\n            { title: '报停理由', dataIndex: 'stopReason',key:'stopReason', width: 250 ,align: 'center' },\r\n            { title: '操作', dataIndex: '', key: 'action', width: 100 ,align: 'center' , render: (item) =>{if(item.stop == '否'){return (<Button type=\"danger\" onClick = {()=>{this.edit(item,0)}}>报停</Button>)}else{return (<Button onClick = {()=>{this.edit(item,1)}}>恢复</Button>)}} }\r\n          ];\r\n          \r\n        return (\r\n            <div className = 'stop'>\r\n              <Spin spinning = {this.state.loading} size='large'>\r\n                <SearchForm init={this.init} getSearch = {this.getSearch} />\r\n                <Table columns={columns} dataSource={this.state.data}  pagination = {{ defaultPageSize:13,total:this.state.total,onChange:this.pageChange,current:this.state.currPage }} scroll={{ y:400}} />\r\n                {this.state.showDiglog && <MsgDetail detail = {this.state.detail} cancel = {this.cancel} init= {this.init}/>}\r\n              </Spin>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/information/stop.jsx"],"sourceRoot":""}