webpackJsonp([20],{988:function(e,a,t){"use strict";function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function l(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function r(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}function i(e){return s.a.createElement(u,{label:e.label,className:"formItem clean"},e.tag&&s.a.createElement("span",{className:"tag"},e.tag),s.a.createElement(m.g,{disabled:!0,placeholder:e.value,className:"disabled"}))}Object.defineProperty(a,"__esModule",{value:!0});var c=t(0),s=t.n(c),m=(t(348),t(347)),o=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),u=m.e.Item,d=(m.g.Search,m.k.Option),p=(m.c.RangePicker,m.i.confirm),h=(m.g.TextArea,function(e){function a(e){n(this,a);var t=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleSearch=function(){t.props.form.validateFields(function(e,a){for(var n=Object.keys(a),l={},r=0;r<n.length;r++)"chargeTime"==n[r]?(a[n[r]]&&(l.chargeTimeStart=new Date(a[n[r]][0]._d).getTime()),a[n[r]]&&(l.chargeTimeEnd=new Date(a[n[r]][1]._d).getTime())):"deadlineDate"==n[r]?(a[n[r]]&&(l.deadlineDateStart=new Date(a[n[r]][0]._d).getTime()),a[n[r]]&&(l.deadlineDateEnd=new Date(a[n[r]][1]._d).getTime())):a[n[r]]&&(l[n[r]]=a[n[r]]);l&&t.props.getSearch(l)})},t.clear=function(){t.props.form.resetFields(),t.props.init({})},t}return r(a,e),o(a,[{key:"render",value:function(){var e=this.props.form,a=e.getFieldDecorator;e.resetFields;return s.a.createElement(m.e,{className:"topForm clean"},s.a.createElement("div",{className:"fl"},s.a.createElement(u,{label:"\u8f66\u724c\u53f7\u7801\uff1a",className:"formItem"},a("vehicleId")(s.a.createElement(m.g,null))),s.a.createElement(u,{label:"\u516c\u53f8\u8f66\u961f\uff1a",className:"formItem"},a("teamName")(s.a.createElement(m.g,null)))),s.a.createElement("div",{className:"fl"},s.a.createElement(u,{label:"SIM\u5361\u53f7",className:"formItem"},a("sim")(s.a.createElement(m.g,null)))),s.a.createElement("div",{className:"fl"},s.a.createElement(u,{label:"\u7ec8\u7aef\u53f7",className:"formItem"},a("s")(s.a.createElement(m.g,null)))),s.a.createElement("div",{className:"fl"},s.a.createElement("a",{className:"empty",onClick:this.clear},"\u6e05\u7a7a")),s.a.createElement("div",{className:"fr"},s.a.createElement(m.b,{type:"primary",onClick:this.handleSearch},"\u67e5\u627e")))}}]),a}(c.Component)),g=m.e.create({mapPropsToFields:function(e){return{init:m.e.createFormField({value:e.init}),getSearch:m.e.createFormField({value:e.getSearch})}}})(h),f=function(e){function a(e){n(this,a);var t=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleSubmit=function(){t.props.form.validateFields(function(e,a){e||p({title:"\u63d0\u793a",content:"\u786e\u8ba4\u63d0\u4ea4\u66f4\u6539\u4fe1\u606f\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e={relocationChangeDto:{},transferChangeDto:{},terminalChangeDto:{},simChangeDto:{}};e.inputMan=window.$Funs.cook.get("id"),e.newCarId=t.props.detail.newCarId,Object.keys(a).forEach(function(t,n){1==t.split("_")[0]?e.relocationChangeDto[t.split("_")[1]]=a[t]:2==t.split("_")[0]?e.transferChangeDto[t.split("_")[1]]=a[t]:3==t.split("_")[0]?e.terminalChangeDto[t.split("_")[1]]=a[t]:e.simChangeDto[t.split("_")[1]]=a[t]}),window.$Funs.$AJAX("informationChange","post",e,function(e){m.o.success("\u64cd\u4f5c\u6210\u529f"),t.props.cancel()})},onCancel:function(){}})})},t.state={terminalType:[],simTypeName:[]},t}return r(a,e),o(a,[{key:"componentWillMount",value:function(){var e=this;window.$Funs.$AJAX("ziDian","get",{type:3},function(a){e.setState({terminalType:a},function(){window.$Funs.$AJAX("ziDian","get",{type:4},function(a){e.setState({simTypeName:a})})})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return s.a.createElement("div",{className:"chgForm"},s.a.createElement(m.a,null,s.a.createElement(m.a.Item,null,s.a.createElement("span",{onClick:this.props.cancel},"\u4fe1\u606f\u53d8\u66f4")),s.a.createElement(m.a.Item,null,"\u8be6\u60c5")),s.a.createElement("div",null,s.a.createElement("h2",null,"\u4fe1\u606f\u53d8\u66f4"),s.a.createElement("div",{className:"addForm"},s.a.createElement(m.e,{layout:"inline",onSubmit:this.handleSubmit,className:"clean"},s.a.createElement("div",null,s.a.createElement("p",null,"\u79fb\u52a8\u53d8\u66f4"),s.a.createElement("div",{className:"row clean"},s.a.createElement(i,{label:"\u516c\u53f8\uff08\u6216\u8f66\u961f\uff09\u540d",value:this.props.detail.teamName}),s.a.createElement(i,{label:"\u539f\u8f66\u724c\u53f7",value:this.props.detail.oldVehicleId}),s.a.createElement(i,{label:"\u5386\u53f2\u8f66\u724c\u53f7",value:""}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u8f66\u724c\u53f7"}),e("1_newVehicleId",{})(s.a.createElement(m.g,null)))),s.a.createElement("div",{className:"row clean"},s.a.createElement(i,{label:"\u539f\u8f66\u67b6\u53f7",value:this.props.detail.carframeId}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u8f66\u67b6\u53f7"}),e("1_newCarframeId",{})(s.a.createElement(m.g,null))),s.a.createElement(i,{label:"\u539f\u8054\u7cfb\u65b9\u5f0f",value:this.props.detail.phone}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{hasFeedback:!0,label:"\u65b0\u8054\u7cfb\u65b9\u5f0f"}),e("1_newPhone",{rules:[{pattern:new RegExp(/^1[3|5|7|8|]\d{9}$/),message:"\u624b\u673a\u683c\u5f0f\u4e0d\u6b63\u786e"}]})(s.a.createElement(m.g,null))))),s.a.createElement("div",null,s.a.createElement("p",null,"\u8fc7\u6237\u4fe1\u606f"),s.a.createElement("div",{className:"row clean"},s.a.createElement(i,{label:"\u539f\u516c\u53f8\u540d",value:this.props.detail.teamName}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u516c\u53f8\u540d"}),e("2_newTeamname",{})(s.a.createElement(m.g,null))),s.a.createElement(i,{label:"\u539f\u8f66\u724c\u53f7",value:this.props.detail.oldVehicleId}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u8f66\u724c\u53f7"}),e("2_newVehicleId",{})(s.a.createElement(m.g,null)))),s.a.createElement("div",{className:"row clean"},s.a.createElement(i,{label:"\u539f\u8f66\u67b6\u53f7",value:this.props.detail.carframeId}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u8f66\u67b6\u53f7"}),e("2_newCarframeId",{})(s.a.createElement(m.g,null))),s.a.createElement(i,{label:"\u539f\u8054\u7cfb\u65b9\u5f0f",value:this.props.detail.phone}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{hasFeedback:!0,label:"\u65b0\u8054\u7cfb\u65b9\u5f0f"}),e("2_newPhone",{rules:[{pattern:new RegExp(/^1[3|5|7|8|]\d{9}$/),message:"\u624b\u673a\u683c\u5f0f\u4e0d\u6b63\u786e"}]})(s.a.createElement(m.g,null))))),s.a.createElement("div",null,s.a.createElement("p",null,"\u7ec8\u7aef\u53d8\u66f4\u4fe1\u606f"),s.a.createElement("div",{className:"row clean"},s.a.createElement(i,{label:"\u539fSIM\u5361\u53f7",value:this.props.detail.sim}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0SIM\u5361\u53f7"}),e("3_newSim",{})(s.a.createElement(m.g,null))),s.a.createElement(i,{label:"\u539f\u8f66\u724c\u53f7",value:this.props.detail.oldVehicleId}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u8f66\u724c\u53f7"}),e("3_newVehicleId",{})(s.a.createElement(m.g,null)))),s.a.createElement("div",{className:"row clean"},s.a.createElement(i,{label:"\u539f\u7ec8\u7aef\u53f7",value:this.props.detail.manageNum}),this.state.terminalType.length>0&&s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u7ec8\u7aef\u7c7b\u578b"}),e("3_newTerminalType",{initialValue:this.state.terminalType[0]})(s.a.createElement(m.k,{style:{width:120}},this.state.terminalType.map(function(e,a){return s.a.createElement(d,{value:e,key:a},e)})))),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u7ec8\u7aef\u53f7"}),e("3_newManageNum",{})(s.a.createElement(m.g,null))))),s.a.createElement("div",null,s.a.createElement("p",null,"SIM\u5361\u53d8\u66f4\u4fe1\u606f"),s.a.createElement("div",{className:"row clean"},s.a.createElement(i,{label:"\u539fSIM\u5361\u7c7b\u578b",value:this.props.detail.simTypeName}),this.state.simTypeName.length>0&&s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0SIM\u5361\u7c7b\u578b"}),e("4_simTypeName",{initialValue:this.state.simTypeName[0]})(s.a.createElement(m.k,{style:{width:120}},this.state.simTypeName.map(function(e,a){return s.a.createElement(d,{value:e,key:a},e)})))),s.a.createElement(i,{label:"\u539fSIM\u5361\u53f7",value:this.props.detail.sim}),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0SIM\u5361\u53f7"}),e("4_newSim",{})(s.a.createElement(m.g,null)))),s.a.createElement("div",{className:"row clean"},s.a.createElement(i,{label:"\u8f66\u724c\u53f7",value:this.props.detail.vehicleId}),s.a.createElement(i,{label:"\u539f\u7ec8\u7aef\u53f7",value:"123213"}),this.state.terminalType.length>0&&s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u7ec8\u7aef\u7c7b\u578b"}),e("4_newTerminalType",{initialValue:this.state.terminalType[0]})(s.a.createElement(m.k,{style:{width:120}},this.state.terminalType.map(function(e,a){return s.a.createElement(d,{value:e,key:a},e)})))),s.a.createElement(u,Object.assign({className:"formItem clean"},a,{label:"\u65b0\u7ec8\u7aef\u53f7"}),e("4_newManageNum",{})(s.a.createElement(m.g,null))))),s.a.createElement(u,{className:"btns"},s.a.createElement(m.b,{type:"primary",htmlType:"submit"},"\u786e\u8ba4\u4fee\u6539"),s.a.createElement(m.b,{onClick:this.props.cancel},"\u53d6\u6d88"))))))}}]),a}(c.Component),E=m.e.create({mapPropsToFields:function(e){return{detail:m.e.createFormField({value:e.detail})}}})(f),b=function(e){function a(e){n(this,a);var t=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.init=function(e){!e.currPage&&(e.currPage=t.state.currPage),e.pageSize=t.state.pageSize,window.$Funs.$AJAX("getInformationChangeList/getCarList","get",e,function(e){var a=e.data.map(function(e,a){return e.key=a,e});t.setState({data:a,total:e.count,loading:!1})})},t.getSearch=function(e){e&&t.setState({keyWord:e,currPage:1,loading:!0},function(){t.init(e)})},t.pageChange=function(e){t.setState({currPage:e,loading:!0},function(){var e=t.state.keyWord;t.init(e)})},t.update=function(e){t.setState({isChange:!0,detail:e})},t.cancel=function(){t.setState({isChange:!1})},t.state={loading:!0,isChange:!1,currPage:1,pageSize:13,keyWord:{},data:[],total:"",detail:{}},t}return r(a,e),o(a,[{key:"componentWillMount",value:function(){this.init({})}},{key:"render",value:function(){var e=this,a=[{title:"\u516c\u53f8\u8f66\u961f",width:150,dataIndex:"teamName",key:"teamName",align:"center"},{title:"\u8f66\u8f86\u7c7b\u578b",width:150,dataIndex:"typeName",key:"typeName",align:"center"},{title:"\u7ec8\u7aef\u8bf4\u660e",dataIndex:"deviceName",key:"deviceName",width:150,align:"center"},{title:"\u8f66\u724c\u53f7",dataIndex:"vehicleId",key:"vehicleId",width:150,align:"center"},{title:"SIM\u5361\u7c7b\u578b",dataIndex:"simTypeName",key:"simTypeName",width:150,align:"center"},{title:"SIM\u5361\u53f7",dataIndex:"sim",key:"sim",width:150,align:"center"},{title:"\u7ec8\u7aef\u53f7",dataIndex:"manageNum",key:"manageNum",width:150,align:"center"},{title:"\u64cd\u4f5c",dataIndex:"",width:150,key:"action",render:function(a){return s.a.createElement(m.b,{type:"primary",onClick:function(){e.update(a)}},"\u53d8\u66f4")}}];return s.a.createElement("div",{className:"change"},s.a.createElement(m.l,{spinning:this.state.loading,size:"large"},this.state.isChange?s.a.createElement(E,{detail:this.state.detail,cancel:this.cancel}):s.a.createElement("div",null,s.a.createElement(g,{init:this.init,getSearch:this.getSearch}),s.a.createElement(m.m,{columns:a,dataSource:this.state.data,pagination:{defaultPageSize:13,total:this.state.total,onChange:this.pageChange,current:this.state.currPage}}))))}}]),a}(c.Component);a.default=b}});
//# sourceMappingURL=20.4c342215.chunk.js.map