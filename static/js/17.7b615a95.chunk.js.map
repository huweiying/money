{"version":3,"sources":["../../static/js/17.7b615a95.chunk.js","pages/information/recode.jsx"],"names":["webpackJsonp","989","module","__webpack_exports__","__webpack_require__","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","Nav","props","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","className","navIndex","onClick","navChange","bind","this","__WEBPACK_IMPORTED_MODULE_0_react__","n","__WEBPACK_IMPORTED_MODULE_2_antd__","_createClass","defineProperties","target","i","length","descriptor","protoProps","staticProps","FormItem","Item","TopForm","Search","_Component","_this","getPrototypeOf","handleSearch","form","validateFields","err","values","arr","keys","data","chargeTimeStart","Date","_d","getTime","chargeTimeEnd","deadlineDateStart","deadlineDateEnd","getSearch","clear","resetFields","init","_props$form","getFieldDecorator","label","type","SearchForm","mapPropsToFields","createFormField","PicDetail","_Component2","_this2","state","currPage","pageSize","total","detail","loading","setState","isNext","totalPage","parseInt","slice","map","v","pictureType","src","picturePath","pictureTime","pictureLocation","spinning","tip","style","fontSize","color","cancel","next","Recode","_Component3","_this3","arguments","undefined","url","window","$Funs","$AJAX","res","formatDate","count","keyWord","pageChange","page","showPic","item","picDetail","_ref","_this4","columns","title","width","dataIndex","align","render","repairInstallPictureList","size","dataSource","pagination","defaultPageSize","onChange","current"],"mappings":"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","file":"../static/js/17.7b615a95.chunk.js","sourcesContent":["webpackJsonp([17],{\n\n/***/ 989:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(348);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(347);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].Item;var Search=__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */].Search;// import { renderRoutes } from 'react-router-config'\nfunction Nav(props){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'nav clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:props.navIndex==0?'active':'',onClick:props.navChange.bind(this,0)},'\\u5B89\\u88C5\\u8BB0\\u5F55'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:props.navIndex==1?'active':'',onClick:props.navChange.bind(this,1)},'\\u7EF4\\u4FEE\\u8BB0\\u5F55'));}var TopForm=function(_Component){_inherits(TopForm,_Component);function TopForm(props){_classCallCheck(this,TopForm);var _this=_possibleConstructorReturn(this,(TopForm.__proto__||Object.getPrototypeOf(TopForm)).call(this,props));_this.handleSearch=function(){_this.props.form.validateFields(function(err,values){var arr=Object.keys(values);var data={};for(var i=0;i<arr.length;i++){if(arr[i]=='chargeTime'){values[arr[i]]&&(data.chargeTimeStart=new Date(values[arr[i]][0]._d).getTime());values[arr[i]]&&(data.chargeTimeEnd=new Date(values[arr[i]][1]._d).getTime());}else if(arr[i]=='deadlineDate'){values[arr[i]]&&(data.deadlineDateStart=new Date(values[arr[i]][0]._d).getTime());values[arr[i]]&&(data.deadlineDateEnd=new Date(values[arr[i]][1]._d).getTime());}else{values[arr[i]]&&(data[arr[i]]=values[arr[i]]);}}if(data){//默认查找第一页开始\n_this.props.getSearch(data);}});};_this.clear=function(){_this.props.form.resetFields();_this.props.init({});};return _this;}_createClass(TopForm,[{key:'render',value:function render(){var _props$form=this.props.form,getFieldDecorator=_props$form.getFieldDecorator,resetFields=_props$form.resetFields;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */],{className:'topForm clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8F66\\u724C\\u53F7\\u7801\\uFF1A',className:'formItem'},getFieldDecorator('vehicleId')(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u5DE5\\u4F5C\\u4EBA\\u5458\\uFF1A',className:'formItem'},getFieldDecorator('name')(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('a',{className:'empty',onClick:this.clear},'\\u6E05\\u7A7A')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fr'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{type:'primary',onClick:this.handleSearch},'\\u67E5\\u627E')));}}]);return TopForm;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var SearchForm=__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].create({mapPropsToFields:function mapPropsToFields(props){return{init:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.init}),getSearch:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.getSearch})};}})(TopForm);/*class TMsgDetail extends Component{\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n       \r\n    }\r\n  }\r\n  handleSubmit = ()=>{\r\n    this.props.form.validateFields((err, values) => {\r\n      if(!err){\r\n        values.invoiceNum = values.prefix + values.invoiceNum;\r\n        delete values.prefix;\r\n        values.deadlineDate = new Date(this.props.detail.deadlineDate).getTime();\r\n        values.chargeTime = window.$Funs.formatDate(values.chargeTime);\r\n        values.id = this.props.detail.chargeid;\r\n        values.newCarId = this.props.detail.newCarId;\r\n        values.vehicleId = this.props.detail.vehicleId;\r\n        values.teamName = this.props.detail.teamName;\r\n        values.inputMan = window.$Funs.cook.get('id');\r\n        values.inputManName = window.$Funs.cook.get('name');\r\n        // values.deadlineDate && (values.deadlineDate = new Date(values.deadlineDate._d).getTime())\r\n        // console.log(values)\r\n        window.$Funs.$AJAX('charge','post',values,(res)=>{\r\n          message.success('操作成功');\r\n          this.props.cancel()\r\n        })      \r\n      }\r\n    });\r\n  }\r\n  render(){\r\n    const { getFieldDecorator} = this.props.form;\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    const prefixSelector = getFieldDecorator('prefix', {\r\n      initialValue: 'F',\r\n    })(\r\n      <Select style={{ width: 50 }}>\r\n        <Option value=\"F\">F</Option>\r\n        <Option value=\"S\">S</Option>\r\n      </Select>\r\n    );\r\n    let msgform = (\r\n      <div className = 'detail'>\r\n        <Form layout=\"inline\"  className='clean'>\r\n          <div className = 'clean'>\r\n            <FormItem label='车牌号' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.vehicleId } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem label='公司或车队名' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.teamName } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem className = 'formItem clean'{...formItemLayout} label=\"收费金额\">\r\n              {getFieldDecorator('moneyAmont', {\r\n                rules: [ {\r\n                  required: true, message: '请输入收费金额',\r\n                }],\r\n              })(\r\n                <Input className = 'pay' />\r\n              )}\r\n              <span  className = 'unit'>单位：元</span>\r\n            </FormItem>\r\n          </div>\r\n          <div className = ' clean'>\r\n            \r\n            <FormItem className = 'formItem clean'{...formItemLayout} label=\"支付方式\">\r\n              {getFieldDecorator('payType', {\r\n                rules: [ {\r\n                  required: true, message: '请输入收费金额',\r\n                }],\r\n                initialValue:'现金'\r\n              })(\r\n                <Select  style={{ width: 200 }}>\r\n                  <Option value=\"现金\">现金</Option>\r\n                  <Option value=\"转帐支票\">转帐支票</Option>\r\n                  <Option value=\"网银转账\">网银转账</Option>\r\n                  <Option value=\"支付宝\">支付宝</Option>\r\n                  <Option value=\"微信\">微信</Option>\r\n                  <Option value=\"其他\">其他</Option>\r\n                </Select>     \r\n              )}\r\n            </FormItem>\r\n            <FormItem className = 'formItem clean'{...formItemLayout} label=\"截止时间\">\r\n              {getFieldDecorator('deadlineDate', {\r\n                rules: [ {\r\n                  required: true, message: '请输入截止时间',\r\n                }],\r\n              })(\r\n                <DatePicker />\r\n              )}\r\n            </FormItem>\r\n          </div>\r\n          <div className = 'clean'>\r\n            <FormItem className = 'formItem code clean' {...formItemLayout} label=\"发票（或收据）号码\">\r\n              {getFieldDecorator('invoiceNum', {\r\n                rules: [ {\r\n                  required: true, message: '请输入发票（或收据）号码',\r\n                }],\r\n              })(\r\n                <Input  addonBefore={prefixSelector} style={{ width: '100%' }} />\r\n              )}\r\n            </FormItem>\r\n          </div>\r\n          <FormItem label = '收费备注：' className = 'formItem fl clean'>\r\n            {getFieldDecorator('remark', {\r\n              rules: [ {\r\n                required: true, message: '请输入收费备注',\r\n              }],\r\n            })(\r\n              <TextArea rows={3} />\r\n            )}\r\n          </FormItem>\r\n        </Form>\r\n        <div className = 'diaBtns fr'>\r\n          <Button type=\"primary\" onClick = {this.handleSubmit}>确认修改</Button>\r\n          <Button onClick = { this.props.cancel}>取消</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n    return(\r\n      <div className = 'dialog'>\r\n        <div className = 'mask'></div>\r\n        <div className = 'main'>\r\n          <p className = 'title'>修改收费信息</p>\r\n           {  msgform }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst MsgDetail = Form.create({\r\n  mapPropsToFields(props) {\r\n    return {\r\n      detail: Form.createFormField({\r\n        value: props.detail,\r\n      }),\r\n      cancel: Form.createFormField({\r\n        value: props.cancel,\r\n      }),\r\n    }\r\n  },\r\n})(TMsgDetail)*///维修图片组件\nvar PicDetail=function(_Component2){_inherits(PicDetail,_Component2);function PicDetail(props){_classCallCheck(this,PicDetail);var _this2=_possibleConstructorReturn(this,(PicDetail.__proto__||Object.getPrototypeOf(PicDetail)).call(this,props));_this2.state={currPage:1,pageSize:4,total:_this2.props.detail.length,loading:true};return _this2;}_createClass(PicDetail,[{key:'componentDidMount',value:function componentDidMount(){this.setState({loading:false});}},{key:'next',value:function next(isNext){if(isNext){//下一页\ntotalPage=parseInt(this.state.total/this.state.pageSize);if(this.currPage+1>totalPage){return;}else{this.setState({currPage:this.state.currPage+1});}}else{if(this.currPage-1<1){return;}else{this.setState({currPage:this.state.currPage-1});}}}},{key:'render',value:function render(){var data=this.props.detail.slice((this.state.currPage-1)*this.pageSize,this.state.currPage*this.pageSize);data=this.props.detail.map(function(v,i){if(v){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'item fl',key:i},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',null,v.pictureType),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:v.picturePath}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',null,v.pictureTime),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',null,v.pictureLocation));}});return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'picDialog'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'mask'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'insetbox'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"l\" /* Spin */],{spinning:this.state.loading,tip:'Loading...'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'main'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"f\" /* Icon */],{type:'close',style:{fontSize:18,color:'#08c'},className:'close',onClick:this.props.cancel}),data,this.props.detail.length>4&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'toggle'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"f\" /* Icon */],{type:'left',style:{fontSize:24,color:'#08c'},onClick:this.next.bind(this,true)}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"f\" /* Icon */],{type:'right',style:{fontSize:24,color:'#08c'},onClick:this.next.bind(this,false)})))));}}]);return PicDetail;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var Recode=function(_Component3){_inherits(Recode,_Component3);function Recode(props){_classCallCheck(this,Recode);var _this3=_possibleConstructorReturn(this,(Recode.__proto__||Object.getPrototypeOf(Recode)).call(this,props));_this3.init=function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};!data.currPage&&(data.currPage=_this3.state.currPage);data.pageSize=_this3.state.pageSize;var url=_this3.state.navIndex==0?'getInstallRecord':'getRepairRecord';window.$Funs.$AJAX(url,'get',data,function(res){var data=res.data.map(function(v,i){v.key=i;v.pictureTime=window.$Funs.formatDate(v.pictureTime);return v;});_this3.setState({data:data,total:res.count,loading:false});});};_this3.getSearch=function(data){if(data){_this3.setState({keyWord:data,currPage:1,loading:true},function(){_this3.init(data);});}};_this3.pageChange=function(page){_this3.setState({currPage:page,loading:true},function(){var data=_this3.state.keyWord;_this3.init(data);});};_this3.showPic=function(item){item=item.map(function(v,i){v.key=i;v.pictureTime=window.$Funs.formatDate(v.pictureTime);return v;});_this3.setState({picDetail:true,detail:item},function(){});};_this3.cancel=function(){_this3.setState({picDetail:false});};_this3.navChange=function(i){//切换导航\n_this3.setState({navIndex:i,currPage:1,keyWord:{}},function(){_this3.init();});};_this3.state={loading:true,navIndex:0,currPage:1,pageSize:13,keyWord:{},//搜索关键字\ndata:[],//table数据\ntotal:'',//总页数\ndetail:{},//录入项对象\npicDetail:false//查看图片dialog\n};return _this3;}_createClass(Recode,[{key:'componentWillMount',value:function componentWillMount(){this.init();}},{key:'render',value:function render(){var _this4=this,_ref;var columns=[{title:'车牌号码',width:100,dataIndex:'vehicleId',key:'vehicleId',align:'center'},{title:'安装日期',width:100,dataIndex:'pictureTime',key:'pictureTime',align:'center'},{title:'公司车队',dataIndex:'teamName',key:'teamName',width:150,align:'center'},{title:'车辆类型',dataIndex:'typeName',key:'typeName',width:150,align:'center'},(_ref={title:'维修照片',dataIndex:'',key:'action',width:100,align:'center',render:function render(item){if(item.repairInstallPictureList&&item.repairInstallPictureList.length!=0){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('a',{onClick:function onClick(){_this4.showPic(item.repairInstallPictureList);}},'\\u67E5\\u770B');}}},_defineProperty(_ref,'width',150),_defineProperty(_ref,'align','center'),_ref),{title:'工作人员',dataIndex:'name',key:'name',width:150,align:'center'}];return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'recode'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"l\" /* Spin */],{spinning:this.state.loading,size:'large'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Nav,{navIndex:this.state.navIndex,navChange:this.navChange}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(SearchForm,{init:this.init,getSearch:this.getSearch}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"m\" /* Table */],{columns:columns,dataSource:this.state.data,pagination:{defaultPageSize:13,total:this.state.total,onChange:this.pageChange,current:this.state.currPage}}),this.state.picDetail&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(PicDetail,{detail:this.state.detail,cancel:this.cancel}))));}}]);return Recode;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Recode);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// ../static/js/17.7b615a95.chunk.js","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Table , Input , Button , Form ,Icon ,Spin,Select} from 'antd';\r\nconst FormItem = Form.Item;\r\nconst Search = Input.Search;\r\n// import { renderRoutes } from 'react-router-config'\r\n\r\nfunction Nav(props){\r\n    return (\r\n        <div className = 'nav clean'>\r\n            <span className = {props.navIndex == 0 ? 'active' :''} onClick = {props.navChange.bind(this,0)}>安装记录</span>\r\n            <span className = {props.navIndex == 1 ? 'active' :''} onClick = {props.navChange.bind(this,1)}>维修记录</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass TopForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n  handleSearch =()=>{\r\n    this.props.form.validateFields((err, values) => {\r\n      let arr = Object.keys(values);\r\n      let data = {}\r\n      for(let i = 0;i<arr.length;i++){\r\n        if(arr[i] == 'chargeTime'){\r\n          values[arr[i]] && (data.chargeTimeStart = new Date(values[arr[i]][0]._d).getTime());\r\n          values[arr[i]] && (data.chargeTimeEnd = new Date(values[arr[i]][1]._d).getTime());\r\n        }else if(arr[i] == 'deadlineDate'){\r\n          values[arr[i]] && (data.deadlineDateStart = new Date(values[arr[i]][0]._d).getTime());\r\n          values[arr[i]] && (data.deadlineDateEnd = new Date(values[arr[i]][1]._d).getTime());\r\n        }else{\r\n          (values[arr[i]]) && (data[arr[i]] = values[arr[i]])\r\n        }\r\n      }\r\n      if(data){\r\n        //默认查找第一页开始\r\n        this.props.getSearch(data);\r\n\r\n        }\r\n    });\r\n  }\r\n  clear = ()=>{\r\n    this.props.form.resetFields();\r\n    this.props.init({})\r\n  }\r\n  render(){\r\n    const { getFieldDecorator, resetFields } = this.props.form;\r\n    return (\r\n      <Form className = 'topForm clean'>\r\n              <div className = 'fl'>\r\n                <FormItem label = '车牌号码：' className = 'formItem'>\r\n                  {getFieldDecorator('vehicleId')(\r\n                    <Input />\r\n                  )}\r\n                </FormItem>\r\n                \r\n                </div>\r\n              <div className = 'fl'>\r\n                <FormItem label = '工作人员：' className = 'formItem'>\r\n                {getFieldDecorator('name')(\r\n                  <Input />\r\n                )}\r\n                </FormItem>\r\n                \r\n              </div>\r\n            <div className = 'fl'>\r\n              <a className = 'empty' onClick = {this.clear} >清空</a>\r\n            </div>\r\n            <div className = 'fr'>\r\n              <Button type=\"primary\" onClick={this.handleSearch}>查找</Button>\r\n            </div>\r\n          </Form>\r\n    )\r\n  }\r\n  \r\n}\r\nconst SearchForm = Form.create({\r\n  mapPropsToFields(props) {\r\n    return {\r\n      init: Form.createFormField({\r\n        value: props.init,\r\n      }),\r\n      getSearch: Form.createFormField({\r\n        value: props.getSearch,\r\n      }),\r\n    }\r\n  },\r\n})(TopForm)\r\n\r\n/*class TMsgDetail extends Component{\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n       \r\n    }\r\n  }\r\n  handleSubmit = ()=>{\r\n    this.props.form.validateFields((err, values) => {\r\n      if(!err){\r\n        values.invoiceNum = values.prefix + values.invoiceNum;\r\n        delete values.prefix;\r\n        values.deadlineDate = new Date(this.props.detail.deadlineDate).getTime();\r\n        values.chargeTime = window.$Funs.formatDate(values.chargeTime);\r\n        values.id = this.props.detail.chargeid;\r\n        values.newCarId = this.props.detail.newCarId;\r\n        values.vehicleId = this.props.detail.vehicleId;\r\n        values.teamName = this.props.detail.teamName;\r\n        values.inputMan = window.$Funs.cook.get('id');\r\n        values.inputManName = window.$Funs.cook.get('name');\r\n        // values.deadlineDate && (values.deadlineDate = new Date(values.deadlineDate._d).getTime())\r\n        // console.log(values)\r\n        window.$Funs.$AJAX('charge','post',values,(res)=>{\r\n          message.success('操作成功');\r\n          this.props.cancel()\r\n        })      \r\n      }\r\n    });\r\n  }\r\n  render(){\r\n    const { getFieldDecorator} = this.props.form;\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    const prefixSelector = getFieldDecorator('prefix', {\r\n      initialValue: 'F',\r\n    })(\r\n      <Select style={{ width: 50 }}>\r\n        <Option value=\"F\">F</Option>\r\n        <Option value=\"S\">S</Option>\r\n      </Select>\r\n    );\r\n    let msgform = (\r\n      <div className = 'detail'>\r\n        <Form layout=\"inline\"  className='clean'>\r\n          <div className = 'clean'>\r\n            <FormItem label='车牌号' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.vehicleId } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem label='公司或车队名' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.teamName } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem className = 'formItem clean'{...formItemLayout} label=\"收费金额\">\r\n              {getFieldDecorator('moneyAmont', {\r\n                rules: [ {\r\n                  required: true, message: '请输入收费金额',\r\n                }],\r\n              })(\r\n                <Input className = 'pay' />\r\n              )}\r\n              <span  className = 'unit'>单位：元</span>\r\n            </FormItem>\r\n          </div>\r\n          <div className = ' clean'>\r\n            \r\n            <FormItem className = 'formItem clean'{...formItemLayout} label=\"支付方式\">\r\n              {getFieldDecorator('payType', {\r\n                rules: [ {\r\n                  required: true, message: '请输入收费金额',\r\n                }],\r\n                initialValue:'现金'\r\n              })(\r\n                <Select  style={{ width: 200 }}>\r\n                  <Option value=\"现金\">现金</Option>\r\n                  <Option value=\"转帐支票\">转帐支票</Option>\r\n                  <Option value=\"网银转账\">网银转账</Option>\r\n                  <Option value=\"支付宝\">支付宝</Option>\r\n                  <Option value=\"微信\">微信</Option>\r\n                  <Option value=\"其他\">其他</Option>\r\n                </Select>     \r\n              )}\r\n            </FormItem>\r\n            <FormItem className = 'formItem clean'{...formItemLayout} label=\"截止时间\">\r\n              {getFieldDecorator('deadlineDate', {\r\n                rules: [ {\r\n                  required: true, message: '请输入截止时间',\r\n                }],\r\n              })(\r\n                <DatePicker />\r\n              )}\r\n            </FormItem>\r\n          </div>\r\n          <div className = 'clean'>\r\n            <FormItem className = 'formItem code clean' {...formItemLayout} label=\"发票（或收据）号码\">\r\n              {getFieldDecorator('invoiceNum', {\r\n                rules: [ {\r\n                  required: true, message: '请输入发票（或收据）号码',\r\n                }],\r\n              })(\r\n                <Input  addonBefore={prefixSelector} style={{ width: '100%' }} />\r\n              )}\r\n            </FormItem>\r\n          </div>\r\n          <FormItem label = '收费备注：' className = 'formItem fl clean'>\r\n            {getFieldDecorator('remark', {\r\n              rules: [ {\r\n                required: true, message: '请输入收费备注',\r\n              }],\r\n            })(\r\n              <TextArea rows={3} />\r\n            )}\r\n          </FormItem>\r\n        </Form>\r\n        <div className = 'diaBtns fr'>\r\n          <Button type=\"primary\" onClick = {this.handleSubmit}>确认修改</Button>\r\n          <Button onClick = { this.props.cancel}>取消</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n    return(\r\n      <div className = 'dialog'>\r\n        <div className = 'mask'></div>\r\n        <div className = 'main'>\r\n          <p className = 'title'>修改收费信息</p>\r\n           {  msgform }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst MsgDetail = Form.create({\r\n  mapPropsToFields(props) {\r\n    return {\r\n      detail: Form.createFormField({\r\n        value: props.detail,\r\n      }),\r\n      cancel: Form.createFormField({\r\n        value: props.cancel,\r\n      }),\r\n    }\r\n  },\r\n})(TMsgDetail)*/\r\n\r\n//维修图片组件\r\nclass PicDetail extends Component{\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      currPage:1,\r\n      pageSize:4,\r\n      total:this.props.detail.length,\r\n      loading:true,\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    this.setState({\r\n      loading:false\r\n    })\r\n  }\r\n  next(isNext){\r\n    if(isNext){//下一页\r\n      totalPage = parseInt(this.state.total / this.state.pageSize);\r\n      if(this.currPage + 1 > totalPage){\r\n        return\r\n      }else{\r\n        this.setState({\r\n          currPage: this.state.currPage + 1\r\n        })\r\n      }\r\n    }else{\r\n      if(this.currPage - 1 < 1){\r\n        return\r\n      }else{\r\n        this.setState({\r\n          currPage:this.state.currPage - 1\r\n        })\r\n      }\r\n    }\r\n  }\r\n  render (){\r\n      let data = this.props.detail.slice((this.state.currPage-1)*this.pageSize,this.state.currPage*this.pageSize)\r\n      data = this.props.detail.map((v,i)=>{\r\n        if(v){\r\n          return(\r\n            <div className = 'item fl' key={i}>\r\n                <p>{v.pictureType}</p>\r\n                <img src={v.picturePath} />\r\n                <p>{v.pictureTime}</p>\r\n                <p>{v.pictureLocation}</p>\r\n              </div>\r\n          )\r\n        }\r\n      })\r\n    return (\r\n      <div className = 'picDialog'>\r\n      <div className = 'mask'></div>\r\n        \r\n          <div className=\"insetbox\">\r\n          <Spin spinning = {this.state.loading} tip=\"Loading...\"></Spin>\r\n              <div className = 'main'>\r\n            \r\n                <Icon type=\"close\" style={{ fontSize: 18, color: '#08c' }} className='close' onClick = {this.props.cancel}/>\r\n                {data }\r\n                {\r\n                this.props.detail.length > 4 && (\r\n                  <div className = 'toggle'>\r\n                    <Icon type=\"left\" style={{ fontSize: 24, color: '#08c' }} onClick = {this.next.bind(this,true)}/>\r\n                    <Icon type=\"right\" style={{  fontSize: 24, color: '#08c' }} onClick = {this.next.bind(this,false)}/>\r\n                  </div>\r\n                )\r\n              }\r\n            \r\n              </div>\r\n            \r\n            \r\n            </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport default class Recode extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n        loading:true,\r\n        navIndex : 0,\r\n        currPage:1,\r\n        pageSize:13,\r\n        keyWord:{},//搜索关键字\r\n        data:[],//table数据\r\n        total:'',//总页数\r\n        detail:{},//录入项对象\r\n        picDetail:false,//查看图片dialog\r\n    }\r\n  }\r\n  componentWillMount(){\r\n    this.init()\r\n  }\r\n  init=(data={})=>{\r\n    !data.currPage && (data.currPage = this.state.currPage);\r\n    data.pageSize = this.state.pageSize;\r\n    let url = this.state.navIndex == 0 ? 'getInstallRecord' : 'getRepairRecord';\r\n    window.$Funs.$AJAX(url,'get',data,(res)=>{\r\n      let data = res.data.map((v,i)=>{\r\n        v.key = i;\r\n        v.pictureTime = window.$Funs.formatDate(v.pictureTime)\r\n        return v\r\n      })\r\n      this.setState({\r\n        data : data,\r\n        total: res.count,\r\n        loading:false\r\n      })\r\n    })\r\n  }\r\n  getSearch=(data)=>{\r\n    if(data){\r\n      this.setState({\r\n        keyWord:data,\r\n        currPage:1,\r\n        loading:true,\r\n      },()=>{\r\n        this.init(data)\r\n      })\r\n    }\r\n  }\r\n  pageChange = (page)=>{\r\n    this.setState({\r\n      currPage:page,\r\n      loading:true\r\n    },()=>{\r\n      let data = this.state.keyWord;\r\n      this.init(data)\r\n    })\r\n  }\r\n  showPic = (item)=>{\r\n    item = item.map((v,i)=>{\r\n      v.key = i;\r\n      v.pictureTime = window.$Funs.formatDate(v.pictureTime)\r\n      return v\r\n    })\r\n    this.setState({\r\n      picDetail: true,\r\n      detail:item\r\n    },()=>{\r\n    })\r\n  }\r\n  cancel =()=>{\r\n    this.setState({\r\n      picDetail:false\r\n    })\r\n  }\r\n  navChange = (i)=>{//切换导航\r\n    this.setState({\r\n      navIndex:i,\r\n      currPage:1,\r\n      keyWord:{}\r\n    },()=>{\r\n      this.init()\r\n    })\r\n  }\r\n  render() {\r\n    const columns = [\r\n      { title: '车牌号码', width: 100, dataIndex: 'vehicleId',key:'vehicleId',align: 'center' },\r\n      { title: '安装日期', width: 100, dataIndex: 'pictureTime',key:'pictureTime' ,align: 'center' },\r\n      { title: '公司车队', dataIndex: 'teamName',key:'teamName', width: 150 ,align: 'center' },\r\n      { title: '车辆类型', dataIndex: 'typeName',key:'typeName', width: 150 ,align: 'center' },\r\n      { title: '维修照片', dataIndex: '', key: 'action', width: 100 ,align: 'center' , render: (item) =>{ if(item.repairInstallPictureList && item.repairInstallPictureList.length != 0) {return (<a onClick = {()=>{this.showPic(item.repairInstallPictureList)}}>查看</a>)} },  width: 150 ,align: 'center' },\r\n      { title: '工作人员', dataIndex: 'name',key:'name', width: 150 ,align: 'center' },\r\n    ];\r\n    \r\n    return (\r\n      <div className = 'recode'>\r\n        <Spin spinning = {this.state.loading} size='large'>\r\n          <Nav navIndex =  {this.state.navIndex } navChange = {this.navChange}/>\r\n            <div>\r\n              <SearchForm init={this.init} getSearch = {this.getSearch}/>\r\n              <Table  columns={columns} dataSource={this.state.data}  pagination = {{ defaultPageSize:13,total:this.state.total,onChange:this.pageChange,current:this.state.currPage }}/>\r\n              {this.state.picDetail && <PicDetail detail = {this.state.detail} cancel = {this.cancel}/>}\r\n            </div>\r\n          \r\n        </Spin>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/information/recode.jsx"],"sourceRoot":""}