{"version":3,"sources":["../../static/js/18.38e2280a.chunk.js","pages/information/notice.jsx"],"names":["webpackJsonp","991","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","Nav","props","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","className","navIndex","onClick","navChange","bind","this","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","n","__WEBPACK_IMPORTED_MODULE_2_antd__","_createClass","defineProperties","target","i","length","descriptor","key","protoProps","staticProps","FormItem","Item","Option","Search","TextArea","confirm","TopForm","_Component","_this","getPrototypeOf","handleSearch","form","validateFields","err","values","arr","keys","data","chargeTimeStart","Date","_d","getTime","chargeTimeEnd","deadlineDateStart","deadlineDateEnd","getSearch","currPage","init","clear","resetFields","_props$form","getFieldDecorator","label","type","postChoose","SearchForm","mapPropsToFields","createFormField","TMsgDetail","_Component2","_this2","handleSubmit","carframeId","detail","inputMan","window","$Funs","cook","get","newCarId","oldVehicleId","operationType","phone","vehicleId","teamName","$AJAX","res","success","cancel","state","user","_this3","roles","setState","_this4","formItemLayout","labelCol","xs","span","sm","wrapperCol","msgform","layout","disabled","userName","typeName","assign","rules","required","message","style","width","map","v","id","name","initialValue","rows","MsgDetail","addNotice","_Component3","_this5","arguments","undefined","loading","pageSize","url","deadlineDate","formatDate","repairInstallType","total","count","keyWord","pageChange","page","showDetail","item","addEntry","items","choose","error","title","content","okText","cancelText","onOk","repairInstallIdList","onCancel","_this6","columns","dataIndex","align","rowSelection","onChange","selectedRowKeys","selectedRows","repairInstallId","spinning","size","expandedRowRender","record","margin","repairInstallRemark","dataSource","pagination","defaultPageSize","current"],"mappings":"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","file":"../static/js/18.38e2280a.chunk.js","sourcesContent":["webpackJsonp([18],{\n\n/***/ 991:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(348);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(347);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].Item;var Search=__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */].Search;var Option=__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Select */].Option;var TextArea=__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */].TextArea;var confirm=__WEBPACK_IMPORTED_MODULE_2_antd__[\"i\" /* Modal */].confirm;// import { renderRoutes } from 'react-router-config'\nfunction Nav(props){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'nav clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:props.navIndex==0?'active':'',onClick:props.navChange.bind(this,0)},'\\u5B89\\u88C5\\u901A\\u77E5'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:props.navIndex==1?'active':'',onClick:props.navChange.bind(this,1)},'\\u7EF4\\u4FEE\\u901A\\u77E5'));}var TopForm=function(_Component){_inherits(TopForm,_Component);function TopForm(props){_classCallCheck(this,TopForm);var _this=_possibleConstructorReturn(this,(TopForm.__proto__||Object.getPrototypeOf(TopForm)).call(this,props));_this.handleSearch=function(){_this.props.form.validateFields(function(err,values){var arr=Object.keys(values);var data={};for(var i=0;i<arr.length;i++){if(arr[i]=='chargeTime'){values[arr[i]]&&(data.chargeTimeStart=new Date(values[arr[i]][0]._d).getTime());values[arr[i]]&&(data.chargeTimeEnd=new Date(values[arr[i]][1]._d).getTime());}else if(arr[i]=='deadlineDate'){values[arr[i]]&&(data.deadlineDateStart=new Date(values[arr[i]][0]._d).getTime());values[arr[i]]&&(data.deadlineDateEnd=new Date(values[arr[i]][1]._d).getTime());}else{values[arr[i]]&&(data[arr[i]]=values[arr[i]]);}}if(data){//默认查找第一页开始\n_this.props.getSearch(data);data.currPage=1;_this.props.init(data);}});};_this.clear=function(){_this.props.form.resetFields();_this.props.init({});};return _this;}_createClass(TopForm,[{key:'render',value:function render(){var _props$form=this.props.form,getFieldDecorator=_props$form.getFieldDecorator,resetFields=_props$form.resetFields;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */],{className:'topForm clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8F66\\u724C\\u53F7\\u7801\\uFF1A',className:'formItem'},getFieldDecorator('vehicleId')(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u516C\\u53F8\\u8F66\\u961F\\uFF1A',className:'formItem'},getFieldDecorator('teamName')(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8F66\\u8F86\\u7C7B\\u578B\\uFF1A',className:'formItem'},getFieldDecorator('name')(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fl'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('a',{className:'empty',onClick:this.clear},'\\u6E05\\u7A7A')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'fr'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{type:'primary',onClick:this.handleSearch},'\\u67E5\\u627E'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{type:'primary',onClick:this.props.postChoose},'\\u53D1\\u9001\\u901A\\u77E5')));}}]);return TopForm;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var SearchForm=__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].create({mapPropsToFields:function mapPropsToFields(props){return{init:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.init}),getSearch:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.getSearch}),postChoose:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.postChoose})};}})(TopForm);var TMsgDetail=function(_Component2){_inherits(TMsgDetail,_Component2);function TMsgDetail(props){_classCallCheck(this,TMsgDetail);var _this2=_possibleConstructorReturn(this,(TMsgDetail.__proto__||Object.getPrototypeOf(TMsgDetail)).call(this,props));_this2.handleSubmit=function(){_this2.props.form.validateFields(function(err,values){if(!err){//   console.log(values)\nvalues.carframeId=_this2.props.detail.carframeId;values.inputMan=window.$Funs.cook.get('id');values.newCarId=_this2.props.detail.newCarId;values.oldVehicleId=_this2.props.detail.oldVehicleId;values.operationType=_this2.props.navIndex;values.phone=_this2.props.detail.phone;values.vehicleId=_this2.props.detail.vehicleId;values.teamName=_this2.props.detail.teamName;window.$Funs.$AJAX('repairInstall','post',values,function(res){__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* message */].success('操作成功');_this2.props.cancel();});}});};_this2.state={user:[]};return _this2;}_createClass(TMsgDetail,[{key:'componentWillMount',value:function componentWillMount(){var _this3=this;window.$Funs.$AJAX('user','get',{roles:2},function(res){_this3.setState({user:res});});}},{key:'render',value:function render(){var _this4=this;var getFieldDecorator=this.props.form.getFieldDecorator;var formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};var msgform=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'detail'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */],{layout:'inline',className:'clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8F66\\u724C\\u53F7',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.vehicleId,disabled:true,className:'disabled'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u66FE\\u4F7F\\u7528\\u8F66\\u724C\\u53F7',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.oldVehicleId,disabled:true,className:'disabled'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u516C\\u53F8\\u6216\\u8F66\\u961F\\u540D',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.teamName,disabled:true,className:'disabled'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8F66\\u67B6\\u53F7',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.carframeId,disabled:true,className:'disabled'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8054\\u7CFB\\u65B9\\u5F0F',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.userName,disabled:true,className:'disabled'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u8F66\\u8F86\\u7C7B\\u578B',className:'formItem clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],{value:this.props.detail.typeName,disabled:true,className:'disabled'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:' clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({className:'formItem clean'},formItemLayout,{label:'\\u6307\\u6D3E\\u4EBA\\u5458'}),getFieldDecorator('userId',{rules:[{required:true,message:'请选择指派人员'}]})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Select */],{style:{width:200}},this.state.user&&this.state.user.map(function(v,i){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{value:_this4.state.user[i].id,key:i},_this4.state.user[i].name);})))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({className:'formItem clean location'},formItemLayout,{label:'\\u8F66\\u8F86\\u4F4D\\u7F6E'}),getFieldDecorator('carLocation',{rules:[{required:true,message:'请输入车辆位置'}]})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'clean'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({className:'formItem clean'},formItemLayout,{label:'\\u5B89\\u88C5\\u7C7B\\u578B'}),getFieldDecorator('repairInstallType',{rules:[{required:true,message:'请选择安装类型'}],initialValue:'0'})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Select */],{style:{width:200}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{value:'0'},'\\u76D1\\u63A7'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{value:'1'},'GPS'))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u5907\\u6CE8\\uFF1A',className:'formItem fl clean'},getFieldDecorator('repairInstallRemark',{rules:[{required:true,message:'请输入备注'}]})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TextArea,{rows:2})))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'diaBtns fr'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{type:'primary',onClick:this.handleSubmit},'\\u786E\\u8BA4'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"b\" /* Button */],{onClick:this.props.cancel},'\\u53D6\\u6D88')));return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'dialog'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'mask'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'main'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:'title'},this.props.navIndex==0?'添加安装车辆':'添加维修车辆'),msgform));}}]);return TMsgDetail;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var MsgDetail=__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].create({mapPropsToFields:function mapPropsToFields(props){return{detail:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.detail}),cancel:__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Form */].createFormField({value:props.cancel})};}})(TMsgDetail);var addNotice=function(_Component3){_inherits(addNotice,_Component3);function addNotice(props){_classCallCheck(this,addNotice);var _this5=_possibleConstructorReturn(this,(addNotice.__proto__||Object.getPrototypeOf(addNotice)).call(this,props));_this5.init=function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_this5.setState({loading:true},function(){!data.currPage&&(data.currPage=_this5.state.currPage);data.pageSize=_this5.state.pageSize;var url=_this5.state.navIndex==0?'getInstallNoticeList':'getRepairNoticeList';window.$Funs.$AJAX(url,'get',data,function(res){var data=res.data.map(function(v,i){v.key=i;v.deadlineDate=window.$Funs.formatDate(v.deadlineDate);v.repairInstallType==0?v.repairInstallType='监控':v.repairInstallType='GPS';return v;});_this5.setState({data:data,total:res.count,loading:false});});});};_this5.getSearch=function(data){if(data){_this5.setState({keyWord:data,currPage:1,loading:true},function(){_this5.init(data);});}};_this5.pageChange=function(page){_this5.setState({currPage:page},function(){var data=_this5.state.keyWord;_this5.init(data);});};_this5.showDetail=function(item){//显示弹窗\n_this5.setState({addEntry:true,detail:item});};_this5.cancel=function(){_this5.setState({addEntry:false});};_this5.navChange=function(i){//切换导航\n_this5.setState({navIndex:i,currPage:1},function(){_this5.init({});});};_this5.postChoose=function(){var items=_this5.state.choose;if(items.length==0){__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* message */].error('请选择需要发送通知的车辆');}else{confirm({title:'提示',content:'确认提交通知信息？',okText:'确认',cancelText:'取消',onOk:function onOk(){window.$Funs.$AJAX('repairInstallSendNotice','post',{'repairInstallIdList':items},function(res){__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* message */].success('操作成功');_this5.init();});},onCancel:function onCancel(){}});}};_this5.state={loading:true,navIndex:0,currPage:1,pageSize:13,keyWord:{},//搜索关键字\ndata:[],//table数据\ntotal:'',//总页数\ndetail:{},//录入项对象\naddEntry:false,//弹窗显示\nchoose:[]};return _this5;}_createClass(addNotice,[{key:'componentWillMount',value:function componentWillMount(){this.init({});}},{key:'render',value:function render(){var _this6=this;var columns=[{title:'公司车队',width:150,dataIndex:'teamName',key:'teamName',align:'center'},{title:'车牌号',width:100,dataIndex:'vehicleId',key:'vehicleId',align:'center'},{title:'车架号',dataIndex:'carframeId',key:'carframeId',width:150,align:'center'},{title:'曾使用车牌号',dataIndex:'oldVehicleId',key:'oldVehicleId',width:110,align:'center'},{title:'有效期至',dataIndex:'deadlineDate',key:'deadlineDate',width:100,align:'center'},{title:'联系方式',dataIndex:'userName',key:'userName',width:150,align:'center'},{title:'车辆类型',dataIndex:'typeName',key:'typeName',width:150,align:'center'},{title:'指派人员',dataIndex:'name',key:'name',width:100,align:'center'},{title:'车辆位置',dataIndex:'carLocation',key:'carLocation',align:'center'},{title:'安装类型',dataIndex:'repairInstallType',key:'repairInstallType',width:100,align:'center'}];var rowSelection={onChange:function onChange(selectedRowKeys,selectedRows){var choose=selectedRows.map(function(v){return v.repairInstallId;});_this6.setState({choose:choose});}};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'addNotice'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"l\" /* Spin */],{spinning:this.state.loading,size:'large'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Nav,{navIndex:this.state.navIndex,navChange:this.navChange}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(SearchForm,{init:this.init,getSearch:this.getSearch,showDetail:this.showDetail,postChoose:function postChoose(){_this6.postChoose();}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"m\" /* Table */],{rowSelection:rowSelection,expandedRowRender:function expandedRowRender(record){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{style:{margin:0}},'\\u5907\\u6CE8\\uFF1A',record.repairInstallRemark);},columns:columns,dataSource:this.state.data,pagination:{defaultPageSize:13,total:this.state.total,onChange:this.pageChange,current:this.state.currPage}}),this.state.addEntry&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(MsgDetail,{detail:this.state.detail,cancel:this.cancel,navIndex:this.state.navIndex}))));}}]);return addNotice;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (addNotice);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// ../static/js/18.38e2280a.chunk.js","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Table , Input , Button , Form ,Icon, Select ,message,DatePicker,Spin,Modal } from 'antd';\r\nconst FormItem = Form.Item;\r\nconst Search = Input.Search;\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\nconst confirm = Modal.confirm;\r\n// import { renderRoutes } from 'react-router-config'\r\n\r\nfunction Nav(props){\r\n    return (\r\n        <div className = 'nav clean'>\r\n            <span className = {props.navIndex == 0 ? 'active' :''} onClick = {props.navChange.bind(this,0)}>安装通知</span>\r\n            <span className = {props.navIndex == 1 ? 'active' :''} onClick = {props.navChange.bind(this,1)}>维修通知</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass TopForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n \r\n  }\r\n  handleSearch =()=>{\r\n    this.props.form.validateFields((err, values) => {\r\n      let arr = Object.keys(values);\r\n      let data = {}\r\n      for(let i = 0;i<arr.length;i++){\r\n        if(arr[i] == 'chargeTime'){\r\n          values[arr[i]] && (data.chargeTimeStart = new Date(values[arr[i]][0]._d).getTime());\r\n          values[arr[i]] && (data.chargeTimeEnd = new Date(values[arr[i]][1]._d).getTime());\r\n        }else if(arr[i] == 'deadlineDate'){\r\n          values[arr[i]] && (data.deadlineDateStart = new Date(values[arr[i]][0]._d).getTime());\r\n          values[arr[i]] && (data.deadlineDateEnd = new Date(values[arr[i]][1]._d).getTime());\r\n        }else{\r\n          (values[arr[i]]) && (data[arr[i]] = values[arr[i]])\r\n        }\r\n      }\r\n      if(data){\r\n        //默认查找第一页开始\r\n        this.props.getSearch(data);\r\n        data.currPage = 1;\r\n        this.props.init(data)\r\n        }\r\n    });\r\n  }\r\n  clear = ()=>{\r\n    this.props.form.resetFields();\r\n    this.props.init({})\r\n  }\r\n  render(){\r\n    const { getFieldDecorator, resetFields } = this.props.form;\r\n \r\n    return (\r\n      <Form className = 'topForm clean'>\r\n              <div className = 'fl'>\r\n                <FormItem label = '车牌号码：' className = 'formItem'>\r\n                  {getFieldDecorator('vehicleId')(\r\n                    <Input />\r\n                  )}\r\n                </FormItem>\r\n                \r\n                </div>\r\n              <div className = 'fl'>\r\n                <FormItem label = '公司车队：' className = 'formItem'>\r\n                {getFieldDecorator('teamName')(\r\n                  <Input />\r\n                )}\r\n                </FormItem>\r\n                \r\n              </div>\r\n              <div className = 'fl'>\r\n                <FormItem label = '车辆类型：' className = 'formItem'>\r\n                {getFieldDecorator('name')(\r\n                  <Input />\r\n                )}\r\n                </FormItem>\r\n                \r\n              </div>\r\n            <div className = 'fl'>\r\n              <a className = 'empty' onClick = {this.clear} >清空</a>\r\n            </div>\r\n            <div className = 'fr'>\r\n              <Button type=\"primary\" onClick={this.handleSearch}>查找</Button>\r\n              <Button type=\"primary\" onClick={this.props.postChoose}>发送通知</Button>\r\n            </div>\r\n          </Form>\r\n    )\r\n  }\r\n  \r\n}\r\nconst SearchForm = Form.create({\r\n  mapPropsToFields(props) {\r\n    return {\r\n      init: Form.createFormField({\r\n        value: props.init,\r\n      }),\r\n      getSearch: Form.createFormField({\r\n        value: props.getSearch,\r\n      }),\r\n      postChoose: Form.createFormField({\r\n        value: props.postChoose,\r\n      }),\r\n \r\n    }\r\n  },\r\n})(TopForm)\r\n\r\nclass TMsgDetail extends Component{\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n        user:[]\r\n    }\r\n  }\r\n  \r\n  componentWillMount(){\r\n    window.$Funs.$AJAX('user','get',{roles:2},(res)=>{\r\n        this.setState({\r\n            user:res\r\n        })\r\n    })    \r\n  }\r\n \r\n  handleSubmit = ()=>{\r\n    this.props.form.validateFields((err, values) => {\r\n      if(!err){\r\n        //   console.log(values)\r\n          values.carframeId = this.props.detail.carframeId;\r\n          values.inputMan = window.$Funs.cook.get('id');\r\n          values.newCarId =  this.props.detail.newCarId;\r\n          values.oldVehicleId = this.props.detail.oldVehicleId;\r\n          values.operationType = this.props.navIndex;\r\n          values.phone = this.props.detail.phone;\r\n          values.vehicleId = this.props.detail.vehicleId;\r\n          values.teamName = this.props.detail.teamName;\r\n        window.$Funs.$AJAX('repairInstall','post',values,(res)=>{\r\n          message.success('操作成功');\r\n          this.props.cancel()\r\n        })      \r\n      }\r\n    });\r\n  }\r\n  render(){\r\n    const { getFieldDecorator} = this.props.form;\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    let msgform = (\r\n      <div className = 'detail'>\r\n        <Form layout=\"inline\"  className='clean'>\r\n          <div className = 'clean'>\r\n            <FormItem label='车牌号' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.vehicleId } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem label='曾使用车牌号' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.oldVehicleId } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem label='公司或车队名' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.teamName } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem label='车架号' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.carframeId } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem label='联系方式' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.userName } disabled className = 'disabled'/>\r\n            </FormItem>\r\n            <FormItem label='车辆类型' className = 'formItem clean'>\r\n              <Input  value={this.props.detail.typeName } disabled className = 'disabled'/>\r\n            </FormItem>\r\n          </div>\r\n          <div className = ' clean'>\r\n            <FormItem className = 'formItem clean'{...formItemLayout} label=\"指派人员\">\r\n              {getFieldDecorator('userId', {\r\n                rules: [ {\r\n                  required: true, message: '请选择指派人员',\r\n                }],\r\n              })(\r\n                <Select  style={{ width: 200 }} >\r\n                  {this.state.user && this.state.user.map((v,i)=>{\r\n                      return (\r\n                          <Option value={this.state.user[i].id} key={i}>{this.state.user[i].name}</Option>\r\n                      )\r\n                  })}\r\n                </Select>     \r\n              )}\r\n            </FormItem>\r\n            <FormItem className = 'formItem clean location'{...formItemLayout} label=\"车辆位置\">\r\n              {getFieldDecorator('carLocation', {\r\n                rules: [ {\r\n                  required: true, message: '请输入车辆位置',\r\n                }],\r\n              })(\r\n                <Input />\r\n              )}\r\n            </FormItem>\r\n          </div>\r\n          <div className = 'clean'>\r\n            <FormItem className = 'formItem clean'{...formItemLayout} label='安装类型'>\r\n                {getFieldDecorator('repairInstallType', {\r\n                    rules: [ {\r\n                        required: true, message: '请选择安装类型',\r\n                    }],\r\n                    initialValue:'0'\r\n                })(\r\n                    <Select  style={{ width: 200 }}>\r\n                        <Option value=\"0\">监控</Option>\r\n                        <Option value=\"1\">GPS</Option>\r\n                    </Select>     \r\n                )}\r\n            </FormItem>\r\n          </div>\r\n          <FormItem label = '备注：' className = 'formItem fl clean'>\r\n            {getFieldDecorator('repairInstallRemark', {\r\n              rules: [ {\r\n                required: true, message: '请输入备注',\r\n              }],\r\n            })(\r\n              <TextArea rows={2} />\r\n            )}\r\n          </FormItem>\r\n        </Form>\r\n        <div className = 'diaBtns fr'>\r\n          <Button type=\"primary\" onClick = {this.handleSubmit}>确认</Button>\r\n          <Button onClick = { this.props.cancel}>取消</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n    return(\r\n      <div className = 'dialog'>\r\n        <div className = 'mask'></div>\r\n        <div className = 'main'>\r\n          <p className = 'title'>{this.props.navIndex == 0 ? '添加安装车辆' : '添加维修车辆'}</p>\r\n           {  msgform }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst MsgDetail = Form.create({\r\n  mapPropsToFields(props) {\r\n    return {\r\n      detail: Form.createFormField({\r\n        value: props.detail,\r\n      }),\r\n      cancel: Form.createFormField({\r\n        value: props.cancel,\r\n      }),\r\n    }\r\n  },\r\n})(TMsgDetail)\r\n\r\n\r\nexport default class addNotice extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n        loading:true,\r\n        navIndex : 0,\r\n        currPage:1,\r\n        pageSize:13,\r\n        keyWord:{},//搜索关键字\r\n        data:[],//table数据\r\n        total:'',//总页数\r\n        detail:{},//录入项对象\r\n        addEntry:false,//弹窗显示\r\n        choose:[]\r\n    }\r\n  }\r\n  componentWillMount(){\r\n    this.init({})\r\n  }\r\n  init=(data={})=>{\r\n    this.setState({\r\n      loading:true\r\n    },()=>{\r\n      !data.currPage && (data.currPage = this.state.currPage);\r\n      data.pageSize = this.state.pageSize;\r\n      let url = this.state.navIndex == 0 ? 'getInstallNoticeList' : 'getRepairNoticeList';\r\n        window.$Funs.$AJAX(url,'get',data,(res)=>{\r\n            let data = res.data.map((v,i)=>{\r\n              v.key = i;\r\n              v.deadlineDate = window.$Funs.formatDate(v.deadlineDate)\r\n              v.repairInstallType == 0 ? v.repairInstallType = '监控' : v.repairInstallType = 'GPS';\r\n              return v\r\n            })\r\n            this.setState({\r\n              data : data,\r\n              total: res.count,\r\n              loading:false\r\n            })\r\n        })\r\n    })\r\n    \r\n    \r\n    \r\n  }\r\n  getSearch=(data)=>{\r\n    if(data){\r\n      this.setState({\r\n        keyWord:data,\r\n        currPage:1,\r\n        loading:true,\r\n      },()=>{\r\n        this.init(data)\r\n      })\r\n    }\r\n  }\r\n  pageChange = (page)=>{\r\n    this.setState({\r\n      currPage:page,\r\n    },()=>{\r\n      let data = this.state.keyWord;\r\n      this.init(data)\r\n    })\r\n  }\r\n  showDetail = (item)=>{//显示弹窗\r\n    this.setState({\r\n        addEntry:true,\r\n        detail:item\r\n    })\r\n  }\r\n  cancel =()=>{\r\n    this.setState({\r\n      addEntry:false\r\n    })\r\n  }\r\n  navChange = (i)=>{//切换导航\r\n    this.setState({\r\n      navIndex:i,\r\n      currPage:1,\r\n    },()=>{\r\n        this.init({})\r\n    })\r\n  }\r\n  postChoose = ()=>{\r\n    let items = this.state.choose;\r\n    if(items.length == 0 ){\r\n      message.error('请选择需要发送通知的车辆');\r\n    }else{\r\n      confirm({\r\n        title: '提示',\r\n        content: '确认提交通知信息？',\r\n        okText:'确认',\r\n        cancelText:'取消',\r\n        onOk:()=> {\r\n          window.$Funs.$AJAX('repairInstallSendNotice','post',{'repairInstallIdList':items},(res)=>{\r\n            message.success('操作成功');\r\n            this.init();\r\n          })\r\n        },\r\n        onCancel() {\r\n        },\r\n      });\r\n      \r\n    }\r\n  }\r\n  render() {\r\n    const columns = [\r\n      { title: '公司车队', width: 150, dataIndex: 'teamName',key:'teamName',align: 'center' },\r\n      { title: '车牌号', width: 100, dataIndex: 'vehicleId',key:'vehicleId' ,align: 'center' },\r\n      { title: '车架号', dataIndex: 'carframeId',key:'carframeId', width: 150 ,align: 'center' },\r\n      { title: '曾使用车牌号', dataIndex: 'oldVehicleId',key:'oldVehicleId', width: 110 ,align: 'center' },\r\n      { title: '有效期至', dataIndex: 'deadlineDate',key:'deadlineDate', width: 100 ,align: 'center' },\r\n      { title: '联系方式', dataIndex: 'userName',key:'userName', width: 150 ,align: 'center' },\r\n      { title: '车辆类型', dataIndex: 'typeName',key:'typeName', width: 150 ,align: 'center' },\r\n      { title: '指派人员', dataIndex: 'name',key:'name', width: 100 ,align: 'center' },\r\n      { title: '车辆位置', dataIndex: 'carLocation',key:'carLocation' ,align: 'center' },\r\n      { title: '安装类型', dataIndex: 'repairInstallType',key:'repairInstallType', width: 100 ,align: 'center' },\r\n    ];\r\n    const rowSelection = {\r\n      onChange: (selectedRowKeys, selectedRows) => {\r\n        let choose = selectedRows.map((v)=>{\r\n          return v.repairInstallId\r\n        })\r\n        this.setState({\r\n          choose:choose\r\n        })\r\n      },\r\n    };\r\n    \r\n    return (\r\n      <div className = 'addNotice'>\r\n      <Spin spinning = {this.state.loading} size='large'>\r\n        <Nav navIndex =  {this.state.navIndex } navChange = {this.navChange}/>\r\n          <div>\r\n            <SearchForm init={this.init} getSearch = {this.getSearch} showDetail = {this.showDetail} postChoose = {()=>{this.postChoose()}}/>\r\n            <Table  rowSelection={rowSelection} expandedRowRender={record => <p style={{ margin: 0 }}>备注：{record.repairInstallRemark}</p>} columns={columns} dataSource={this.state.data}  pagination = {{ defaultPageSize:13,total:this.state.total,onChange:this.pageChange,current:this.state.currPage }}/>\r\n            {this.state.addEntry && <MsgDetail detail = {this.state.detail} cancel = {this.cancel} navIndex = {this.state.navIndex}/>}\r\n          </div>\r\n      </Spin>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/information/notice.jsx"],"sourceRoot":""}